{"version":3,"file":"FMessageModal.bf4c32a4.js","sources":["../../packages/uikit/src/components/FMessageModal/FMessageModal.tsx"],"sourcesContent":["import { defineComponent, PropType, ref, watch, computed } from \"vue\";\nimport { useLocale, useDisplay } from \"vuetify\";\n\nimport type { VNode } from \"vue\";\n\nimport { FModal } from \"../FModal\";\nimport { FButton } from \"../FButton\";\nimport { FRender } from \"../FRender\";\n\nimport \"./FMessageModal.scss\";\n\nexport interface ModalAction {\n  show?: boolean;\n  text?: string;\n  props?: Record<string, any>;\n  classes?: Record<string, any>;\n  callback?: (...args: any) => void;\n}\n\nexport const FMessageModal = defineComponent({\n  name: \"FMessageModal\",\n\n  props: {\n    title: {\n      type: [String, Object] as PropType<String | VNode>,\n      default: \"\",\n    },\n    text: {\n      type: [String, Object] as PropType<String | VNode>,\n      default: \"\",\n    },\n    cancel: {\n      type: Object as PropType<ModalAction>,\n      default: () => ({}),\n    },\n    confirm: {\n      type: Object as PropType<ModalAction>,\n      default: () => ({}),\n    },\n    actions: {\n      type: Object as PropType<VNode>,\n    },\n    hideActions: {\n      type: Boolean,\n      default: false,\n    },\n    width: {\n      type: [String, Number],\n      default: 420,\n    }\n  },\n\n  emits: {\n    destroy: () => true,\n  },\n\n  setup(props, { emit, expose }) {\n    const { t } = useLocale();\n    const { smAndDown } = useDisplay();\n    const dialog = ref(false);\n\n    const width = computed(() => smAndDown.value ? '100%' : props.width);\n\n    const show = () => (dialog.value = true);\n\n    const close = () => (dialog.value = false);\n\n    const handleDialogChange = (value) => {\n      if (!value) {\n        emit(\"destroy\");\n      }\n    };\n\n    watch(() => dialog.value, handleDialogChange);\n\n    expose({ show, close });\n\n    const genAction = (action: ModalAction) => {\n      if (!action.show) {\n        return null;\n      }\n\n      return (\n        <FButton\n          {...(action.props || {})}\n          class={action.classes || \"\"}\n          onClick={() => {\n            dialog.value = false;\n            action.callback && action.callback();\n          }}\n        >\n          {action.text}\n        </FButton>\n      );\n    };\n\n    return () => (\n      <FModal\n        v-model={dialog.value}\n        title={\n          <div class=\"f-msg-modal__title\">\n            <FRender content={props.title} />\n          </div>\n        }\n        width={width.value}\n        class=\"f-msg-modal\"\n      >\n        <div class=\"f-msg-modal__body\">\n          <FRender content={props.text} />\n          {!props.hideActions && (\n            <div class=\"f-msg-modal__actions\">\n              {props.actions || [\n                genAction({\n                  show: true,\n                  text: t(\"$vuetify.uikit.cancel\"),\n                  props: { variant: \"plain\" },\n                  ...(props?.cancel || {}),\n                }),\n                genAction({\n                  show: true,\n                  text: t(\"$vuetify.uikit.continue\"),\n                  props: { color: \"greyscale_1\" },\n                  ...(props?.confirm || {}),\n                }),\n              ]}\n            </div>\n          )}\n        </div>\n      </FModal>\n    );\n  },\n});\n"],"names":["FMessageModal","defineComponent","name","props","title","type","String","Object","default","text","cancel","confirm","actions","hideActions","Boolean","width","Number","emits","destroy","setup","emit","expose","t","useLocale","smAndDown","useDisplay","dialog","ref","computed","value","show","close","watch","genAction","action","_createVNode","FButton","_mergeProps","classes","onClick","callback","FModal","$event","FRender","variant","color"],"mappings":"0WAmBaA,MAAAA,EAAgBC,EAAgB,CAC3CC,KAAM,gBAENC,MAAO,CACLC,MAAO,CACLC,KAAM,CAACC,OAAQC,MAAM,EACrBC,QAAS,EACV,EACDC,KAAM,CACJJ,KAAM,CAACC,OAAQC,MAAM,EACrBC,QAAS,EACV,EACDE,OAAQ,CACNL,KAAME,OACNC,QAASA,KAAO,CAAA,EACjB,EACDG,QAAS,CACPN,KAAME,OACNC,QAASA,KAAO,CAAA,EACjB,EACDI,QAAS,CACPP,KAAME,MACP,EACDM,YAAa,CACXR,KAAMS,QACNN,QAAS,EACV,EACDO,MAAO,CACLV,KAAM,CAACC,OAAQU,MAAM,EACrBR,QAAS,GACX,CACD,EAEDS,MAAO,CACLC,QAASA,IAAM,EAChB,EAEDC,MAAMhB,EAAO,CAAEiB,KAAAA,EAAMC,OAAAA,CAAO,EAAG,CAC7B,KAAM,CAAEC,EAAAA,CAAG,EAAGC,EAAS,EACjB,CAAEC,UAAAA,CAAW,EAAGC,EAAU,EAC1BC,EAASC,EAAI,EAAK,EAElBZ,EAAQa,EAAS,IAAMJ,EAAUK,MAAQ,OAAS1B,EAAMY,KAAK,EAE7De,EAAOA,EAAAA,IAAOJ,EAAOG,MAAQ,GAAtBC,QAEPC,EAAQA,EAAAA,IAAOL,EAAOG,MAAQ,GAAtBE,SAQdC,EAAM,IAAMN,EAAOG,MANSA,EAAAA,GAAU,CAC/BA,GACHT,EAAK,SAAS,GAFUS,qBAMgB,EAE5CR,EAAO,CAAES,KAAAA,EAAMC,MAAAA,CAAM,CAAC,EAEtB,MAAME,EAAaC,EAAAA,GACZA,EAAOJ,KAIZK,EAAAC,EAAAC,EAESH,EAAO/B,OAAS,CAAA,EAAE,CAAA,MAChB+B,EAAOI,SAAW,GAAE,QAClBC,IAAM,CACbb,EAAOG,MAAQ,GACfK,EAAOM,UAAYN,EAAOM,UAC5B,CAAC,CAAA,EAAA,CAAAhC,QAAAA,IAEA0B,CAAAA,EAAOzB,IAAI,CAAA,CAAA,EAZP,KAFQyB,aAmBnB,MAAO,IAAAC,EAAAM,EAAA,CAAA,WAEMf,EAAOG,MAAK,sBAAAa,GAAZhB,EAAOG,MAAKa,EAAA,MAAAP,EAAA,MAAA,CAAA,MAER,sBAAoBA,CAAAA,EAAAQ,EAAA,CAAA,QACXxC,EAAMC,KAAK,EAAA,IAAA,CAAA,CAAA,EAAA,MAG1BW,EAAMc,MAAK,MACZ,aAAa,EAAA,CAAArB,QAAAA,IAAA,CAAA2B,EAAA,MAAA,CAAA,MAER,qBAAmBA,CAAAA,EAAAQ,EAAA,CAAA,QACVxC,EAAMM,IAAI,EAAA,IAAA,EAC3B,CAACN,EAAMU,aAAWsB,EAAA,MAAA,CAAA,MACN,sBAAsB,EAAA,CAC9BhC,EAAMS,SAAW,CAChBqB,EAAU,CACRH,KAAM,GACNrB,KAAMa,EAAE,uBAAuB,EAC/BnB,MAAO,CAAEyC,QAAS,OAAS,EAC3B,IAAIzC,GAAAA,YAAAA,EAAOO,SAAU,EACtB,CAAA,EACDuB,EAAU,CACRH,KAAM,GACNrB,KAAMa,EAAE,yBAAyB,EACjCnB,MAAO,CAAE0C,MAAO,aAAe,EAC/B,IAAI1C,GAAAA,YAAAA,EAAOQ,UAAW,GACvB,CAAC,CACH,CAEJ,CAAA,CAAA,CAAA,EAGN,CACH,CACF,CAAC"}