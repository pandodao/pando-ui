var te=Object.defineProperty;var h=(n,u)=>te(n,"name",{value:u,configurable:!0});import{u as oe}from"./VProgressCircular.c944d5ab.js";import{i as H,p as D,d as E,Q as ne,R as ae,b as s,k as se,y as z,o as ue}from"./vue.esm-bundler.0d7c29ee.js";import{a as X,g as le,f as _}from"./useRender.9e1e1323.js";import{c as O,v as ie}from"./helpers.a29827d2.js";const V=Symbol.for("vuetify:layout"),q=Symbol.for("vuetify:layout-item"),Z=1e3,me=X({overlaps:{type:Array,default:()=>[]},fullHeight:Boolean},"layout"),ge=X({name:{type:String},order:{type:[Number,String],default:0},absolute:Boolean},"layout-item");function he(){const n=H(V);if(!n)throw new Error("[Vuetify] Could not find injected layout");return{getLayoutItem:n.getLayoutItem,mainRect:n.mainRect,mainStyles:n.mainStyles}}h(he,"useLayout");function Ie(n){var y;const u=H(V);if(!u)throw new Error("[Vuetify] Could not find injected layout");const d=(y=n.id)!=null?y:`layout-item-${le()}`,i=_("useLayoutItem");D(q,{id:d});const a=E(!1);ne(()=>a.value=!0),ae(()=>a.value=!1);const{layoutItemStyles:r,layoutItemScrimStyles:c}=u.register(i,{...n,active:s(()=>a.value?!1:n.active.value),id:d});return se(()=>u.unregister(d)),{layoutItemStyles:r,layoutRect:u.layoutRect,layoutItemScrimStyles:c}}h(Ie,"useLayoutItem");const re=h((n,u,d,i)=>{let a={top:0,left:0,right:0,bottom:0};const r=[{id:"",layer:{...a}}];for(const c of n){const y=u.get(c),g=d.get(c),R=i.get(c);if(!y||!g||!R)continue;const I={...a,[y.value]:parseInt(a[y.value],10)+(R.value?parseInt(g.value,10):0)};r.push({id:c,layer:I}),a=I}return r},"generateLayers");function be(n){const u=H(V,null),d=s(()=>u?u.rootZIndex.value-100:Z),i=E([]),a=z(new Map),r=z(new Map),c=z(new Map),y=z(new Map),g=z(new Map),{resizeRef:R,contentRect:I}=oe(),F=s(()=>{var e;const t=new Map,l=(e=n.overlaps)!=null?e:[];for(const p of l.filter(o=>o.includes(":"))){const[o,v]=p.split(":");if(!i.value.includes(o)||!i.value.includes(v))continue;const m=a.get(o),w=a.get(v),L=r.get(o),M=r.get(v);!m||!w||!L||!M||(t.set(v,{position:m.value,amount:parseInt(L.value,10)}),t.set(o,{position:w.value,amount:-parseInt(M.value,10)}))}return t}),b=s(()=>{const t=[...new Set([...c.values()].map(e=>e.value))].sort((e,p)=>e-p),l=[];for(const e of t){const p=i.value.filter(o=>{var v;return((v=c.get(o))==null?void 0:v.value)===e});l.push(...p)}return re(l,a,r,y)}),T=s(()=>!Array.from(g.values()).some(t=>t.value)),x=s(()=>b.value[b.value.length-1].layer),Q=s(()=>({"--v-layout-left":O(x.value.left),"--v-layout-right":O(x.value.right),"--v-layout-top":O(x.value.top),"--v-layout-bottom":O(x.value.bottom),...T.value?void 0:{transition:"none"}})),S=s(()=>b.value.slice(1).map((t,l)=>{let{id:e}=t;const{layer:p}=b.value[l],o=r.get(e),v=a.get(e);return{id:e,...p,size:Number(o.value),position:v.value}})),j=h(t=>S.value.find(l=>l.id===t),"getLayoutItem"),k=_("createLayout"),B=E(!1);ue(()=>{B.value=!0}),D(V,{register:(t,l)=>{let{id:e,order:p,position:o,layoutSize:v,elementSize:m,active:w,disableTransitions:L,absolute:M}=l;c.set(e,p),a.set(e,o),r.set(e,v),y.set(e,w),L&&g.set(e,L);const K=ie(q,k==null?void 0:k.vnode).indexOf(t);K>-1?i.value.splice(K,0,e):i.value.push(e);const N=s(()=>S.value.findIndex($=>$.id===e)),A=s(()=>d.value+b.value.length*2-N.value*2),G=s(()=>{const $=o.value==="left"||o.value==="right",C=o.value==="right",ee=o.value==="bottom",U={[o.value]:0,zIndex:A.value,transform:`translate${$?"X":"Y"}(${(w.value?0:-110)*(C||ee?-1:1)}%)`,position:M.value||d.value!==Z?"absolute":"fixed",...T.value?void 0:{transition:"none"}};if(!B.value)return U;const f=S.value[N.value];if(!f)throw new Error(`[Vuetify] Could not find layout item "${e}"`);const P=F.value.get(e);return P&&(f[P.position]+=P.amount),{...U,height:$?`calc(100% - ${f.top}px - ${f.bottom}px)`:m.value?`${m.value}px`:void 0,left:C?void 0:`${f.left}px`,right:C?`${f.right}px`:void 0,top:o.value!=="bottom"?`${f.top}px`:void 0,bottom:o.value!=="top"?`${f.bottom}px`:void 0,width:$?m.value?`${m.value}px`:void 0:`calc(100% - ${f.left}px - ${f.right}px)`}}),J=s(()=>({zIndex:A.value-1}));return{layoutItemStyles:G,layoutItemScrimStyles:J,zIndex:A}},unregister:t=>{c.delete(t),a.delete(t),r.delete(t),y.delete(t),g.delete(t),i.value=i.value.filter(l=>l!==t)},mainRect:x,mainStyles:Q,getLayoutItem:j,items:S,layoutRect:I,rootZIndex:d});const W=s(()=>["v-layout",{"v-layout--full-height":n.fullHeight}]),Y=s(()=>({zIndex:d.value,position:u?"relative":void 0,overflow:u?"hidden":void 0}));return{layoutClasses:W,layoutStyles:Y,getLayoutItem:j,items:S,layoutRect:I,layoutRef:R}}h(be,"createLayout");export{ge as a,he as b,be as c,me as m,Ie as u};
//# sourceMappingURL=layout.81e3c011.js.map
