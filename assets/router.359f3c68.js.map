{"version":3,"file":"router.359f3c68.js","sources":["../../node_modules/vuetify/lib/composables/router.mjs"],"sourcesContent":["// Utilities\nimport { getCurrentInstance, hasEvent, IN_BROWSER, propsFactory } from \"../util/index.mjs\";\nimport { computed, nextTick, onScopeDispose, resolveDynamicComponent, toRef } from 'vue';\n\n// Types\n\nexport function useRoute() {\n  const vm = getCurrentInstance('useRoute');\n  return computed(() => vm?.proxy?.$route);\n}\nexport function useRouter() {\n  return getCurrentInstance('useRouter')?.proxy?.$router;\n}\nexport function useLink(props, attrs) {\n  const RouterLink = resolveDynamicComponent('RouterLink');\n  const isLink = computed(() => !!(props.href || props.to));\n  const isClickable = computed(() => {\n    return isLink?.value || hasEvent(attrs, 'click') || hasEvent(props, 'click');\n  });\n  if (typeof RouterLink === 'string') {\n    return {\n      isLink,\n      isClickable,\n      href: toRef(props, 'href')\n    };\n  }\n  const link = props.to ? RouterLink.useLink(props) : undefined;\n  return {\n    isLink,\n    isClickable,\n    route: link?.route,\n    navigate: link?.navigate,\n    isActive: link && computed(() => props.exact ? link.isExactActive?.value : link.isActive?.value),\n    href: computed(() => props.to ? link?.route.value.href : props.href)\n  };\n}\nexport const makeRouterProps = propsFactory({\n  href: String,\n  replace: Boolean,\n  to: [String, Object],\n  exact: Boolean\n}, 'router');\nlet inTransition = false;\nexport function useBackButton(router, cb) {\n  let popped = false;\n  let removeBefore;\n  let removeAfter;\n  if (IN_BROWSER) {\n    nextTick(() => {\n      window.addEventListener('popstate', onPopstate);\n      removeBefore = router?.beforeEach((to, from, next) => {\n        if (!inTransition) {\n          setTimeout(() => popped ? cb(next) : next());\n        } else {\n          popped ? cb(next) : next();\n        }\n        inTransition = true;\n      });\n      removeAfter = router?.afterEach(() => {\n        inTransition = false;\n      });\n    });\n    onScopeDispose(() => {\n      window.removeEventListener('popstate', onPopstate);\n      removeBefore?.();\n      removeAfter?.();\n    });\n  }\n  function onPopstate(e) {\n    if (e.state?.replaced) return;\n    popped = true;\n    setTimeout(() => popped = false);\n  }\n}\n//# sourceMappingURL=router.mjs.map"],"names":["useRouter","_b","_a","getCurrentInstance","__name","useLink","props","attrs","RouterLink","resolveDynamicComponent","isLink","computed","isClickable","hasEvent","toRef","link","makeRouterProps","propsFactory","inTransition","useBackButton","router","cb","popped","removeBefore","removeAfter","IN_BROWSER","nextTick","onPopstate","to","from","next","onScopeDispose","e"],"mappings":"iQAUO,SAASA,GAAY,SAC1B,OAAOC,GAAAC,EAAAC,EAAmB,WAAW,IAA9B,YAAAD,EAAiC,QAAjC,YAAAD,EAAwC,OACjD,CAFgBG,EAAAJ,EAAA,aAGT,SAASK,EAAQC,EAAOC,EAAO,CACpC,MAAMC,EAAaC,EAAwB,YAAY,EACjDC,EAASC,EAAS,IAAM,CAAC,EAAEL,EAAM,MAAQA,EAAM,GAAG,EAClDM,EAAcD,EAAS,KACpBD,GAAA,YAAAA,EAAQ,QAASG,EAASN,EAAO,OAAO,GAAKM,EAASP,EAAO,OAAO,CAC5E,EACD,GAAI,OAAOE,GAAe,SACxB,MAAO,CACL,OAAAE,EACA,YAAAE,EACA,KAAME,EAAMR,EAAO,MAAM,CAC/B,EAEE,MAAMS,EAAOT,EAAM,GAAKE,EAAW,QAAQF,CAAK,EAAI,OACpD,MAAO,CACL,OAAAI,EACA,YAAAE,EACA,MAAOG,GAAA,YAAAA,EAAM,MACb,SAAUA,GAAA,YAAAA,EAAM,SAChB,SAAUA,GAAQJ,EAAS,IAAA,SAAM,OAAAL,EAAM,OAAQJ,EAAAa,EAAK,gBAAL,YAAAb,EAAoB,OAAQD,EAAAc,EAAK,WAAL,YAAAd,EAAe,MAAK,EAC/F,KAAMU,EAAS,IAAML,EAAM,GAAKS,GAAA,YAAAA,EAAM,MAAM,MAAM,KAAOT,EAAM,IAAI,CACvE,CACA,CAtBgBF,EAAAC,EAAA,WAuBJ,MAACW,EAAkBC,EAAa,CAC1C,KAAM,OACN,QAAS,QACT,GAAI,CAAC,OAAQ,MAAM,EACnB,MAAO,OACT,EAAG,QAAQ,EACX,IAAIC,EAAe,GACZ,SAASC,EAAcC,EAAQC,EAAI,CACxC,IAAIC,EAAS,GACTC,EACAC,EACAC,IACFC,EAAS,IAAM,CACb,OAAO,iBAAiB,WAAYC,CAAU,EAC9CJ,EAAeH,GAAA,YAAAA,EAAQ,WAAW,CAACQ,EAAIC,EAAMC,IAAS,CAC/CZ,EAGHI,EAASD,EAAGS,CAAI,EAAIA,EAAI,EAFxB,WAAW,IAAMR,EAASD,EAAGS,CAAI,EAAIA,EAAI,CAAE,EAI7CZ,EAAe,EACvB,GACMM,EAAcJ,GAAA,YAAAA,EAAQ,UAAU,IAAM,CACpCF,EAAe,EACvB,EACA,CAAK,EACDa,EAAe,IAAM,CACnB,OAAO,oBAAoB,WAAYJ,CAAU,EACjDJ,GAAA,MAAAA,IACAC,GAAA,MAAAA,GACN,CAAK,GAEH,SAASG,EAAWK,EAAG,QACjB9B,EAAA8B,EAAE,QAAF,MAAA9B,EAAS,WACboB,EAAS,GACT,WAAW,IAAMA,EAAS,EAAK,EAChC,CAJQlB,EAAAuB,EAAA,aAKX,CA9BgBvB,EAAAe,EAAA"}