{"version":3,"file":"mixin.87a49014.js","sources":["../../node_modules/@foxone/utils/mixin.js"],"sourcesContent":["export function getMixinContext() {\n  var _win$webkit, _win$webkit$messageHa, _win$MixinContext;\n\n  var ctx = {};\n  var win = window;\n\n  if ((_win$webkit = win.webkit) !== null && _win$webkit !== void 0 && (_win$webkit$messageHa = _win$webkit.messageHandlers) !== null && _win$webkit$messageHa !== void 0 && _win$webkit$messageHa.MixinContext) {\n    ctx = JSON.parse(prompt(\"MixinContext.getContext()\"));\n    ctx.platform = ctx.platform || \"iOS\";\n  } else if (typeof ((_win$MixinContext = win.MixinContext) === null || _win$MixinContext === void 0 ? void 0 : _win$MixinContext.getContext) === \"function\") {\n    ctx = JSON.parse(win.MixinContext.getContext());\n    ctx.platform = ctx.platform || \"Android\";\n  }\n\n  return ctx;\n}\nexport function isMixin() {\n  var platform = getMixinContext().platform;\n  return platform === \"iOS\" || platform === \"Android\";\n}\nexport function setMixinTheme(color) {\n  var _document$querySelect;\n\n  document.querySelectorAll(\"[name='theme-color']\").forEach(function (node) {\n    return node.remove();\n  });\n  var meta = document.createElement(\"meta\");\n  meta.name = \"theme-color\";\n  meta.content = color;\n  (_document$querySelect = document.querySelector(\"head\")) === null || _document$querySelect === void 0 ? void 0 : _document$querySelect.appendChild(meta);\n  setTimeout(function () {\n    loadMixinTheme();\n  }, 50);\n}\nexport function loadMixinTheme() {\n  var platform = getMixinContext().platform;\n  var win = window;\n\n  switch (platform) {\n    case \"iOS\":\n      win.webkit.messageHandlers.reloadTheme.postMessage(\"\");\n      return;\n\n    case \"Android\":\n      win.MixinContext.reloadTheme();\n  }\n}\nexport function isDarkTheme() {\n  var _window$matchMedia$ma, _window$matchMedia, _window;\n\n  try {\n    var context = getMixinContext();\n\n    if (context !== null && context !== void 0 && context.appearance) {\n      return context.appearance === \"dark\";\n    }\n  } catch (error) {\n    console.log(error);\n  }\n\n  return (_window$matchMedia$ma = (_window$matchMedia = (_window = window).matchMedia) === null || _window$matchMedia === void 0 ? void 0 : _window$matchMedia.call(_window, \"(prefers-color-scheme: dark)\").matches) !== null && _window$matchMedia$ma !== void 0 ? _window$matchMedia$ma : false;\n}\nexport function genPaymentUrl(data) {\n  var amount = data.amount,\n      assetId = data.assetId,\n      memo = data.memo,\n      recipient = data.recipient,\n      traceId = data.traceId;\n  return \"mixin://pay?recipient=\".concat(recipient, \"&asset=\").concat(assetId, \"&amount=\").concat(amount, \"&trace=\").concat(traceId, \"&memo=\").concat(memo);\n}"],"names":["getMixinContext","_win$webkit","_win$webkit$messageHa","_win$MixinContext","ctx","win","__name","isMixin","platform","genPaymentUrl","data","amount","assetId","memo","recipient","traceId"],"mappings":"+EAAO,SAASA,GAAkB,CAChC,IAAIC,EAAaC,EAAuBC,EAEpCC,EAAM,CAAA,EACNC,EAAM,OAEV,OAAKJ,EAAcI,EAAI,UAAY,MAAQJ,IAAgB,SAAWC,EAAwBD,EAAY,mBAAqB,MAAQC,IAA0B,QAAUA,EAAsB,cAC/LE,EAAM,KAAK,MAAM,OAAO,2BAA2B,CAAC,EACpDA,EAAI,SAAWA,EAAI,UAAY,OACtB,QAASD,EAAoBE,EAAI,gBAAkB,MAAQF,IAAsB,OAAS,OAASA,EAAkB,aAAgB,aAC9IC,EAAM,KAAK,MAAMC,EAAI,aAAa,WAAU,CAAE,EAC9CD,EAAI,SAAWA,EAAI,UAAY,WAG1BA,CACT,CAfgBE,EAAAN,EAAA,mBAgBT,SAASO,GAAU,CACxB,IAAIC,EAAWR,EAAiB,EAAC,SACjC,OAAOQ,IAAa,OAASA,IAAa,SAC5C,CAHgBF,EAAAC,EAAA,WA8CT,SAASE,EAAcC,EAAM,CAClC,IAAIC,EAASD,EAAK,OACdE,EAAUF,EAAK,QACfG,EAAOH,EAAK,KACZI,EAAYJ,EAAK,UACjBK,EAAUL,EAAK,QACnB,MAAO,yBAAyB,OAAOI,EAAW,SAAS,EAAE,OAAOF,EAAS,UAAU,EAAE,OAAOD,EAAQ,SAAS,EAAE,OAAOI,EAAS,QAAQ,EAAE,OAAOF,CAAI,CAC1J,CAPgBP,EAAAG,EAAA"}