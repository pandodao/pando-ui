var G=Object.defineProperty;var c=(e,s)=>G(e,"name",{value:s,configurable:!0});import{a as p,b as v,r as $,d as S,p as H,t as J,i as Q,u as X,l as Y,k as Z,o as ee}from"./vue.esm-bundler.3b29098a.js";import{m as ae}from"./color.fef4ce02.js";import{g as z,u as K,b as C,h as T,e as ne,a as U,k as L}from"./useRender.3ca1765f.js";import{V as te,I as N}from"./VIcon.c254d683.js";import{m as le,u as se}from"./density.6dd2b9c7.js";import{u as A}from"./proxiedModel.67252d17.js";import{w as F,E as j,v as ie,p as ue}from"./helpers.e1d6c4cc.js";import{a as re}from"./locale.eccdb440.js";import{V as oe}from"./VMessages.ff964b60.js";function de(e){const{t:s}=re();function u(n){var m;let{name:r}=n;const a={prepend:"prependAction",prependInner:"prependAction",append:"appendAction",appendInner:"appendAction",clear:"clear"}[r],o=e[`onClick:${r}`],g=o&&a?s(`$vuetify.input.${a}`,(m=e.label)!=null?m:""):void 0;return p(te,{icon:e[`${r}Icon`],"aria-label":g,onClick:o},null)}return c(u,"InputIcon"),{InputIcon:u}}c(de,"useInputIcon");const Se=z()({name:"VLabel",props:{text:String,clickable:Boolean,...ae()},setup(e,s){let{slots:u}=s;return K(()=>{var n;return p("label",{class:["v-label",{"v-label--clickable":e.clickable}]},[e.text,(n=u.default)==null?void 0:n.call(u)])}),{}}}),ce=C({focused:Boolean},"focus");function Be(e){let s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:T();const u=A(e,"focused"),n=v(()=>({[`${s}--focused`]:u.value}));function r(){u.value=!0}c(r,"focus");function a(){u.value=!1}return c(a,"blur"),{focusClasses:n,isFocused:u,focus:r,blur:a}}c(Be,"useFocus");const W=Symbol.for("vuetify:form"),Ce=C({disabled:Boolean,fastFail:Boolean,readonly:Boolean,modelValue:{type:Boolean,default:null},validateOn:{type:String,default:"input"}},"form");function Fe(e){const s=A(e,"modelValue"),u=v(()=>e.disabled),n=v(()=>e.readonly),r=$(!1),a=$([]),o=$([]);async function g(){const t=[];let l=!0;o.value=[],r.value=!0;for(const d of a.value){const i=await d.validate();if(i.length>0&&(l=!1,t.push({id:d.id,errorMessages:i})),!l&&e.fastFail)break}return o.value=t,r.value=!1,{valid:l,errors:o.value}}c(g,"validate");function m(){a.value.forEach(t=>t.reset()),s.value=null}c(m,"reset");function b(){a.value.forEach(t=>t.resetValidation()),o.value=[],s.value=null}return c(b,"resetValidation"),S(a,()=>{let t=0,l=0;const d=[];for(const i of a.value)i.isValid===!1?(l++,d.push({id:i.id,errorMessages:i.errorMessages})):i.isValid===!0&&t++;o.value=d,s.value=l>0?!1:t===a.value.length?!0:null},{deep:!0}),H(W,{register:t=>{let{id:l,validate:d,reset:i,resetValidation:I}=t;a.value.some(V=>V.id===l)&&ne(`Duplicate input name "${l}"`),a.value.push({id:l,validate:d,reset:i,resetValidation:I,isValid:null,errorMessages:[]})},unregister:t=>{a.value=a.value.filter(l=>l.id!==t)},update:(t,l,d)=>{const i=a.value.find(I=>I.id===t);!i||(i.isValid=l,i.errorMessages=d)},isDisabled:u,isReadonly:n,isValidating:r,items:a,validateOn:J(e,"validateOn")}),{errors:o,isDisabled:u,isReadonly:n,isValidating:r,items:a,validate:g,reset:m,resetValidation:b}}c(Fe,"createForm");function ve(){return Q(W,null)}c(ve,"useForm");const fe=C({disabled:Boolean,error:Boolean,errorMessages:{type:[Array,String],default:()=>[]},maxErrors:{type:[Number,String],default:1},name:String,label:String,readonly:Boolean,rules:{type:Array,default:()=>[]},modelValue:null,validateOn:String,validationValue:null,...ce()},"validation");function me(e){let s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:T(),u=arguments.length>2&&arguments[2]!==void 0?arguments[2]:U();const n=A(e,"modelValue"),r=v(()=>e.validationValue===void 0?n.value:e.validationValue),a=ve(),o=$([]),g=$(!0),m=v(()=>!!(F(n.value===""?null:n.value).length||F(r.value===""?null:r.value).length)),b=v(()=>!!(e.disabled||(a==null?void 0:a.isDisabled.value))),t=v(()=>!!(e.readonly||(a==null?void 0:a.isReadonly.value))),l=v(()=>e.errorMessages.length?F(e.errorMessages).slice(0,Math.max(0,+e.maxErrors)):o.value),d=v(()=>e.error||l.value.length?!1:e.rules.length&&g.value?null:!0),i=$(!1),I=v(()=>({[`${s}--error`]:d.value===!1,[`${s}--dirty`]:m.value,[`${s}--disabled`]:b.value,[`${s}--readonly`]:t.value})),V=v(()=>{var f;return(f=e.name)!=null?f:X(u)});Y(()=>{a==null||a.register({id:V.value,validate:h,reset:D,resetValidation:M})}),Z(()=>{a==null||a.unregister(V.value)});const B=v(()=>e.validateOn||(a==null?void 0:a.validateOn.value)||"input");ee(()=>a==null?void 0:a.update(V.value,d.value,l.value)),L(()=>B.value==="input",()=>{S(r,()=>{if(r.value!=null)h();else if(e.focused){const f=S(()=>e.focused,y=>{y||h(),f()})}})}),L(()=>B.value==="blur",()=>{S(()=>e.focused,f=>{f||h()})}),S(d,()=>{a==null||a.update(V.value,d.value,l.value)});function D(){M(),n.value=null}c(D,"reset");function M(){g.value=!0,o.value=[]}c(M,"resetValidation");async function h(){var y;const f=[];i.value=!0;for(const P of e.rules){if(f.length>=((y=e.maxErrors)!=null?y:1))break;const k=await(typeof P=="function"?P:()=>P)(r.value);if(k!==!0){if(typeof k!="string"){console.warn(`${k} is not a valid value. Rule functions must return boolean true or a string.`);continue}f.push(k)}}return o.value=f,i.value=!1,g.value=!1,o.value}return c(h,"validate"),{errorMessages:l,isDirty:m,isDisabled:b,isReadonly:t,isPristine:g,isValid:d,isValidating:i,reset:D,resetValidation:M,validate:h,validationClasses:I}}c(me,"useValidation");const ge=C({id:String,appendIcon:N,prependIcon:N,hideDetails:[Boolean,String],messages:{type:[Array,String],default:()=>[]},direction:{type:String,default:"horizontal",validator:e=>["horizontal","vertical"].includes(e)},"onClick:prepend":j,"onClick:append":j,...le(),...fe()},"v-input"),pe=z()({name:"VInput",props:{...ge()},emits:{"update:modelValue":e=>!0},setup(e,s){let{attrs:u,slots:n,emit:r}=s;const{densityClasses:a}=se(e),{InputIcon:o}=de(e),g=U(),m=v(()=>e.id||`input-${g}`),b=v(()=>`${m.value}-messages`),{errorMessages:t,isDirty:l,isDisabled:d,isReadonly:i,isPristine:I,isValid:V,isValidating:B,reset:D,resetValidation:M,validate:h,validationClasses:f}=me(e,"v-input",m),y=v(()=>({id:m,messagesId:b,isDirty:l,isDisabled:d,isReadonly:i,isPristine:I,isValid:V,isValidating:B,reset:D,resetValidation:M,validate:h}));return K(()=>{var O,x,_,w,R;const P=!!(n.prepend||e.prependIcon),E=!!(n.append||e.appendIcon),k=!!(((O=e.messages)==null?void 0:O.length)||t.value.length),q=!e.hideDetails||e.hideDetails==="auto"&&(k||!!n.details);return p("div",{class:["v-input",`v-input--${e.direction}`,a.value,f.value]},[P&&p("div",{key:"prepend",class:"v-input__prepend"},[(x=n.prepend)==null?void 0:x.call(n,y.value),e.prependIcon&&p(o,{key:"prepend-icon",name:"prepend"},null)]),n.default&&p("div",{class:"v-input__control"},[(_=n.default)==null?void 0:_.call(n,y.value)]),E&&p("div",{key:"append",class:"v-input__append"},[e.appendIcon&&p(o,{key:"append-icon",name:"append"},null),(w=n.append)==null?void 0:w.call(n,y.value)]),q&&p("div",{class:"v-input__details"},[p(oe,{id:b.value,active:k,messages:t.value.length>0?t.value:e.messages},{message:n.message}),(R=n.details)==null?void 0:R.call(n,y.value)])])}),{reset:D,resetValidation:M,validate:h}}});function Ae(e){const s=Object.keys(pe.props).filter(u=>!ie(u));return ue(e,s)}c(Ae,"filterInputProps");export{pe as V,ve as a,Se as b,ce as c,fe as d,me as e,Ae as f,de as g,Ce as h,Fe as i,ge as m,Be as u};
//# sourceMappingURL=VInput.f50d7073.js.map
