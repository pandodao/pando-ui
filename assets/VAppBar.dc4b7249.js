var D=Object.defineProperty;var C=(e,v)=>D(e,"name",{value:v,configurable:!0});import{a as s,t as _,s as T,b as i,r as A,d as p,o as M,z as $,m as F,w as q}from"./vue.esm-bundler.80cafc0b.js";import{p as P,m as L,g as w,u as N,a as O,e as Y,b as j,h as G}from"./color.7ba4ffe3.js";import{m as U}from"./VIcon.ac9f05d6.js";import{a as J}from"./index.b676db0f.js";import{m as K,u as Q}from"./border.b14058ef.js";import{m as W,u as X}from"./elevation.8d0c61c6.js";import{u as Z}from"./locale.68d0262d.js";import{m as ee,u as te}from"./rounded.b42653ce.js";import{V as ae}from"./VImg.78b97665.js";import{V as I}from"./VDefaultsProvider.522cf1e0.js";import{c as k,a as le}from"./helpers.32675158.js";import{a as oe,u as ne}from"./layout.c04eea67.js";import{u as se,a as re}from"./proxiedModel.dbd4de1d.js";import{u as ie}from"./ssrBoot.e8acd638.js";const ue=P({text:String,...L(),...U()},"VToolbarTitle"),ce=w()({name:"VToolbarTitle",props:ue(),setup(e,v){let{slots:t}=v;return N(()=>{const u=!!(t.default||t.text||e.text);return s(e.tag,{class:["v-toolbar-title",e.class],style:e.style},{default:()=>{var o;return[u&&s("div",{class:"v-toolbar-title__placeholder"},[t.text?t.text():e.text,(o=t.default)==null?void 0:o.call(t)])]}})}),{}}}),ve=[null,"prominent","default","comfortable","compact"],z=P({absolute:Boolean,collapse:Boolean,color:String,density:{type:String,default:"default",validator:e=>ve.includes(e)},extended:Boolean,extensionHeight:{type:[Number,String],default:48},flat:Boolean,floating:Boolean,height:{type:[Number,String],default:64},image:String,title:String,...K(),...L(),...W(),...ee(),...U({tag:"header"}),...O()},"VToolbar"),H=w()({name:"VToolbar",props:z(),setup(e,v){var n;let{slots:t}=v;const{backgroundColorClasses:u,backgroundColorStyles:o}=Y(_(e,"color")),{borderClasses:a}=Q(e),{elevationClasses:m}=X(e),{roundedClasses:d}=te(e),{themeClasses:f}=j(e),{rtlClasses:h}=Z(),r=T(!!(e.extended||((n=t.extension)==null?void 0:n.call(t)))),b=i(()=>parseInt(Number(e.height)+(e.density==="prominent"?Number(e.height):0)-(e.density==="comfortable"?8:0)-(e.density==="compact"?16:0),10)),c=i(()=>r.value?parseInt(Number(e.extensionHeight)+(e.density==="prominent"?Number(e.extensionHeight):0)-(e.density==="comfortable"?4:0)-(e.density==="compact"?8:0),10):0);return G({VBtn:{variant:"text"}}),N(()=>{var l;const y=!!(e.title||t.title),V=!!(t.image||e.image),B=(l=t.extension)==null?void 0:l.call(t);return r.value=!!(e.extended||B),s(e.tag,{class:["v-toolbar",{"v-toolbar--absolute":e.absolute,"v-toolbar--collapse":e.collapse,"v-toolbar--flat":e.flat,"v-toolbar--floating":e.floating,[`v-toolbar--density-${e.density}`]:!0},u.value,a.value,m.value,d.value,f.value,h.value,e.class],style:[o.value,e.style]},{default:()=>[V&&s("div",{key:"image",class:"v-toolbar__image"},[t.image?s(I,{key:"image-defaults",disabled:!e.image,defaults:{VImg:{cover:!0,src:e.image}}},t.image):s(ae,{key:"image-img",cover:!0,src:e.image},null)]),s(I,{defaults:{VTabs:{height:k(b.value)}}},{default:()=>{var S,g,x;return[s("div",{class:"v-toolbar__content",style:{height:k(b.value)}},[t.prepend&&s("div",{class:"v-toolbar__prepend"},[(S=t.prepend)==null?void 0:S.call(t)]),y&&s(ce,{key:"title",text:e.title},{text:t.title}),(g=t.default)==null?void 0:g.call(t),t.append&&s("div",{class:"v-toolbar__append"},[(x=t.append)==null?void 0:x.call(t)])])]}}),s(I,{defaults:{VTabs:{height:k(c.value)}}},{default:()=>[s(J,null,{default:()=>[r.value&&s("div",{class:"v-toolbar__extension",style:{height:k(c.value)}},[B])]})]})]})}),{contentHeight:b,extensionHeight:c}}}),de=P({scrollTarget:{type:String},scrollThreshold:{type:[String,Number],default:300}},"scroll");function me(e){let v=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const{canScroll:t}=v;let u=0;const o=A(null),a=T(0),m=T(0),d=T(0),f=T(!1),h=T(!1),r=i(()=>Number(e.scrollThreshold)),b=i(()=>le((r.value-a.value)/r.value||0)),c=C(()=>{const n=o.value;!n||t&&!t.value||(u=a.value,a.value="window"in n?n.pageYOffset:n.scrollTop,h.value=a.value<u,d.value=Math.abs(a.value-r.value))},"onScroll");return p(h,()=>{m.value=m.value||a.value}),p(f,()=>{m.value=0}),M(()=>{p(()=>e.scrollTarget,n=>{var V;const y=n?document.querySelector(n):window;!y||y!==o.value&&((V=o.value)==null||V.removeEventListener("scroll",c),o.value=y,o.value.addEventListener("scroll",c,{passive:!0}))},{immediate:!0})}),$(()=>{var n;(n=o.value)==null||n.removeEventListener("scroll",c)}),t&&p(t,c,{immediate:!0}),{scrollThreshold:r,currentScroll:a,currentThreshold:d,isScrollActive:f,scrollRatio:b,isScrollingUp:h,savedScroll:m}}C(me,"useScroll");const ge=P({scrollBehavior:String,modelValue:{type:Boolean,default:!0},location:{type:String,default:"top",validator:e=>["top","bottom"].includes(e)},...z(),...oe(),...de(),height:{type:[Number,String],default:64}},"VAppBar"),we=w()({name:"VAppBar",props:ge(),emits:{"update:modelValue":e=>!0},setup(e,v){let{slots:t}=v;const u=A(),o=se(e,"modelValue"),a=i(()=>{var S,g;const l=new Set((g=(S=e.scrollBehavior)==null?void 0:S.split(" "))!=null?g:[]);return{hide:l.has("hide"),inverted:l.has("inverted"),collapse:l.has("collapse"),elevate:l.has("elevate"),fadeImage:l.has("fade-image")}}),m=i(()=>{const l=a.value;return l.hide||l.inverted||l.collapse||l.elevate||l.fadeImage||!o.value}),{currentScroll:d,scrollThreshold:f,isScrollingUp:h,scrollRatio:r}=me(e,{canScroll:m}),b=i(()=>e.collapse||a.value.collapse&&(a.value.inverted?r.value>0:r.value===0)),c=i(()=>e.flat||a.value.elevate&&(a.value.inverted?d.value>0:d.value===0)),n=i(()=>a.value.fadeImage?a.value.inverted?1-r.value:r.value:void 0),y=i(()=>{var g,x,E,R;if(a.value.hide&&a.value.inverted)return 0;const l=(x=(g=u.value)==null?void 0:g.contentHeight)!=null?x:0,S=(R=(E=u.value)==null?void 0:E.extensionHeight)!=null?R:0;return l+S});re(i(()=>!!e.scrollBehavior),()=>{q(()=>{a.value.hide?a.value.inverted?o.value=d.value>f.value:o.value=h.value||d.value<f.value:o.value=!0})});const{ssrBootStyles:V}=ie(),{layoutItemStyles:B}=ne({id:e.name,order:i(()=>parseInt(e.order,10)),position:_(e,"location"),layoutSize:y,elementSize:T(void 0),active:o,absolute:_(e,"absolute")});return N(()=>{const l=H.filterProps(e);return s(H,F({ref:u,class:["v-app-bar",{"v-app-bar--bottom":e.location==="bottom"},e.class],style:[{...B.value,"--v-toolbar-image-opacity":n.value,height:void 0,...V.value},e.style]},l,{collapse:b.value,flat:c.value}),t)}),{}}});export{ce as V,we as a,H as b,ue as m};
//# sourceMappingURL=VAppBar.dc4b7249.js.map
