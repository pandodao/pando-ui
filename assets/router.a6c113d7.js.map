{"version":3,"file":"router.a6c113d7.js","sources":["../../node_modules/vuetify/lib/composables/router.mjs"],"sourcesContent":["// Utilities\nimport { getCurrentInstance, hasEvent, IN_BROWSER, propsFactory } from \"../util/index.mjs\";\nimport { computed, nextTick, onScopeDispose, resolveDynamicComponent, toRef } from 'vue';\n\n// Types\n\nexport function useRoute() {\n  const vm = getCurrentInstance('useRoute');\n  return computed(() => {\n    var _vm$proxy;\n    return vm == null ? void 0 : (_vm$proxy = vm.proxy) == null ? void 0 : _vm$proxy.$route;\n  });\n}\nexport function useRouter() {\n  var _getCurrentInstance, _getCurrentInstance$p;\n  return (_getCurrentInstance = getCurrentInstance('useRouter')) == null ? void 0 : (_getCurrentInstance$p = _getCurrentInstance.proxy) == null ? void 0 : _getCurrentInstance$p.$router;\n}\nexport function useLink(props, attrs) {\n  const RouterLink = resolveDynamicComponent('RouterLink');\n  const isLink = computed(() => !!(props.href || props.to));\n  const isClickable = computed(() => {\n    return (isLink == null ? void 0 : isLink.value) || hasEvent(attrs, 'click') || hasEvent(props, 'click');\n  });\n  if (typeof RouterLink === 'string') {\n    return {\n      isLink,\n      isClickable,\n      href: toRef(props, 'href')\n    };\n  }\n  const link = props.to ? RouterLink.useLink(props) : undefined;\n  return {\n    isLink,\n    isClickable,\n    route: link == null ? void 0 : link.route,\n    navigate: link == null ? void 0 : link.navigate,\n    isActive: link && computed(() => {\n      var _link$isExactActive, _link$isActive;\n      return props.exact ? (_link$isExactActive = link.isExactActive) == null ? void 0 : _link$isExactActive.value : (_link$isActive = link.isActive) == null ? void 0 : _link$isActive.value;\n    }),\n    href: computed(() => props.to ? link == null ? void 0 : link.route.value.href : props.href)\n  };\n}\nexport const makeRouterProps = propsFactory({\n  href: String,\n  replace: Boolean,\n  to: [String, Object],\n  exact: Boolean\n}, 'router');\nlet inTransition = false;\nexport function useBackButton(router, cb) {\n  let popped = false;\n  let removeBefore;\n  let removeAfter;\n  if (IN_BROWSER) {\n    nextTick(() => {\n      window.addEventListener('popstate', onPopstate);\n      removeBefore = router == null ? void 0 : router.beforeEach((to, from, next) => {\n        if (!inTransition) {\n          setTimeout(() => popped ? cb(next) : next());\n        } else {\n          popped ? cb(next) : next();\n        }\n        inTransition = true;\n      });\n      removeAfter = router == null ? void 0 : router.afterEach(() => {\n        inTransition = false;\n      });\n    });\n    onScopeDispose(() => {\n      var _removeBefore, _removeAfter;\n      window.removeEventListener('popstate', onPopstate);\n      (_removeBefore = removeBefore) == null ? void 0 : _removeBefore();\n      (_removeAfter = removeAfter) == null ? void 0 : _removeAfter();\n    });\n  }\n  function onPopstate(e) {\n    var _e$state;\n    if ((_e$state = e.state) != null && _e$state.replaced) return;\n    popped = true;\n    setTimeout(() => popped = false);\n  }\n}\n//# sourceMappingURL=router.mjs.map"],"names":["useRouter","_getCurrentInstance","_getCurrentInstance$p","getCurrentInstance","__name","useLink","props","attrs","RouterLink","resolveDynamicComponent","isLink","computed","isClickable","hasEvent","toRef","link","_link$isExactActive","_link$isActive","makeRouterProps","propsFactory","inTransition","useBackButton","router","cb","popped","removeBefore","removeAfter","IN_BROWSER","nextTick","onPopstate","to","from","next","onScopeDispose","_removeBefore","_removeAfter","e","_e$state"],"mappings":"4PAaO,SAASA,GAAY,CAC1B,IAAIC,EAAqBC,EACzB,OAAQD,EAAsBE,EAAmB,WAAW,IAAM,OAAiBD,EAAwBD,EAAoB,QAAU,KAAhE,OAAgFC,EAAsB,OACjL,CAHgBE,EAAAJ,EAAA,aAIT,SAASK,EAAQC,EAAOC,EAAO,CACpC,MAAMC,EAAaC,EAAwB,YAAY,EACjDC,EAASC,EAAS,IAAM,CAAC,EAAEL,EAAM,MAAQA,EAAM,GAAG,EAClDM,EAAcD,EAAS,KACnBD,GAAU,KAAO,OAASA,EAAO,QAAUG,EAASN,EAAO,OAAO,GAAKM,EAASP,EAAO,OAAO,CACvG,EACD,GAAI,OAAOE,GAAe,SACxB,MAAO,CACL,OAAAE,EACA,YAAAE,EACA,KAAME,EAAMR,EAAO,MAAM,CAC/B,EAEE,MAAMS,EAAOT,EAAM,GAAKE,EAAW,QAAQF,CAAK,EAAI,OACpD,MAAO,CACL,OAAAI,EACA,YAAAE,EACA,MAAOG,GAAQ,KAAO,OAASA,EAAK,MACpC,SAAUA,GAAQ,KAAO,OAASA,EAAK,SACvC,SAAUA,GAAQJ,EAAS,IAAM,CAC/B,IAAIK,EAAqBC,EACzB,OAAOX,EAAM,OAASU,EAAsBD,EAAK,gBAAkB,KAAO,OAASC,EAAoB,OAASC,EAAiBF,EAAK,WAAa,KAAO,OAASE,EAAe,KACxL,CAAK,EACD,KAAMN,EAAS,IAAML,EAAM,GAAKS,GAAQ,KAAO,OAASA,EAAK,MAAM,MAAM,KAAOT,EAAM,IAAI,CAC9F,CACA,CAzBgBF,EAAAC,EAAA,WA0BJ,MAACa,EAAkBC,EAAa,CAC1C,KAAM,OACN,QAAS,QACT,GAAI,CAAC,OAAQ,MAAM,EACnB,MAAO,OACT,EAAG,QAAQ,EACX,IAAIC,EAAe,GACZ,SAASC,EAAcC,EAAQC,EAAI,CACxC,IAAIC,EAAS,GACTC,EACAC,EACAC,IACFC,EAAS,IAAM,CACb,OAAO,iBAAiB,WAAYC,CAAU,EAC9CJ,EAAeH,GAAU,KAAO,OAASA,EAAO,WAAW,CAACQ,EAAIC,EAAMC,IAAS,CACxEZ,EAGHI,EAASD,EAAGS,CAAI,EAAIA,EAAI,EAFxB,WAAW,IAAMR,EAASD,EAAGS,CAAI,EAAIA,EAAI,CAAE,EAI7CZ,EAAe,EACvB,CAAO,EACDM,EAAcJ,GAAU,KAAO,OAASA,EAAO,UAAU,IAAM,CAC7DF,EAAe,EACvB,CAAO,CACP,CAAK,EACDa,EAAe,IAAM,CACnB,IAAIC,EAAeC,EACnB,OAAO,oBAAoB,WAAYN,CAAU,GAChDK,EAAgBT,IAAiB,MAAgBS,EAAa,GAC9DC,EAAeT,IAAgB,MAAgBS,EAAY,CAClE,CAAK,GAEH,SAASN,EAAWO,EAAG,CACrB,IAAIC,GACCA,EAAWD,EAAE,QAAU,MAAQC,EAAS,WAC7Cb,EAAS,GACT,WAAW,IAAMA,EAAS,EAAK,EAChC,CALQpB,EAAAyB,EAAA,aAMX,CAhCgBzB,EAAAiB,EAAA"}