{"version":3,"file":"assets.1372edf9.js","sources":["../../packages/uikit/src/components/FAssetSelect/FAssetItem.tsx","../../packages/uikit/src/components/FAssetSelect/FAssetList.tsx","../../packages/uikit/src/utils/helpers.ts","../../packages/uikit/src/components/FAssetSelect/FAssetSelect.tsx"],"sourcesContent":["import { defineComponent, PropType } from \"vue\";\nimport { VLazy } from \"vuetify/components\";\nimport { FListItem } from \"../FListItem\";\nimport { FAssetLogo } from \"../FAssetLogo\";\n\nimport type { Asset } from \"../../types\";\n\nexport const FAssetItem = defineComponent({\n  name: \"FAssetItem\",\n\n  props: {\n    asset: {\n      type: Object as PropType<Asset>,\n      default: null,\n    },\n  },\n\n  setup(props) {\n    return () => (\n      <VLazy min-height={52}>\n        <FListItem\n          title={props.asset.symbol}\n          subtitle={props.asset.name}\n          value={props.asset.id}\n          class=\"f-asset-item\"\n        >\n          {{\n            prepend: () => (\n              <FAssetLogo\n                asset={props.asset}\n                size=\"28\"\n                chainSize=\"12\"\n                class=\"f-asset-item__logo\"\n              />\n            ),\n          }}\n        </FListItem>\n      </VLazy>\n    );\n  },\n});\n","import { defineComponent, PropType, computed } from \"vue\";\nimport { FAssetItem } from \"./FAssetItem\";\nimport { VList } from \"vuetify/components\";\n\nimport type { Asset } from \"../../types\";\n\nexport const FAssetList = defineComponent({\n  name: \"FAssetList\",\n\n  props: {\n    asset: {\n      type: Object as PropType<Asset | null>,\n      default: null,\n    },\n    assets: {\n      type: Array as PropType<Asset[]>,\n      default: () => [],\n    },\n  },\n\n  emits: {\n    select: (asset: Asset) => true,\n  },\n\n  setup(props, { emit }) {\n    const current = computed(() => [props?.asset?.id] ?? undefined);\n\n    return () => (\n      <VList selected={current.value} class={[\"f-asset-select__list\"]}>\n        {props.assets.map((asset) => (\n          <FAssetItem\n            asset={asset}\n            key={asset.id}\n            onClick={() => emit(\"select\", asset)}\n          />\n        ))}\n      </VList>\n    );\n  },\n});\n","import type { Asset } from \"../types\";\n\nexport function convertMixinAsset(asset): Asset {\n  return {\n    id: asset.asset_id,\n    symbol: asset.symbol,\n    logo: asset.icon_url,\n    name: asset.name,\n    chainLogo: asset.icon_url,\n  };\n}\n\nexport function filterAssets(assets: Asset[], filter: string) {\n  return assets.filter((asset) => {\n    const name = (asset?.name || \"\").toLowerCase();\n    const symbol = (asset?.symbol || \"\").toLowerCase();\n\n    return name.startsWith(filter) || symbol.includes(filter);\n  });\n}\n\nexport function getBrowser() {\n  const ua = navigator.userAgent.toLowerCase();\n\n  if (ua.indexOf(\"firefox\") > -1) {\n    return \"firefox\";\n  }\n\n  if (ua.indexOf(\"chrome\") > -1) {\n    return \"chrome\";\n  }\n\n  return \"others\";\n}\n","import { computed, defineComponent, PropType, ref, withModifiers } from \"vue\";\nimport { useLocale } from \"vuetify\";\nimport { FModal } from \"../FModal\";\nimport { FAssetList } from \"./FAssetList\";\nimport { FAssetSelectField } from \"./FAssetSelectField\";\nimport { FSearchInput } from \"../FSearchInput\";\nimport { filterAssets } from \"../../utils\";\n\nimport type { Asset } from \"../../types\";\n\nimport \"./FAssetSelect.scss\";\n\nexport const FAssetSelect = defineComponent({\n  name: \"FAssetSelect\",\n\n  props: {\n    dialog: {\n      type: Boolean,\n      default: false,\n    },\n    asset: {\n      type: Object as PropType<Asset | null>,\n      default: null,\n    },\n    assets: {\n      type: Array as PropType<Asset[]>,\n      default: () => [],\n    },\n  },\n\n  emits: {\n    \"update:asset\": (value: Asset | null) => true,\n    \"update:dialog\": (value: Boolean) => true,\n  },\n\n  setup(props, { emit, attrs }) {\n    const { t } = useLocale();\n    const filter = ref(\"\");\n\n    const filteredAssets = computed(() =>\n      filterAssets(props.assets, filter.value)\n    );\n\n    const empty = computed(() => filteredAssets.value.length === 0);\n\n    const handleSelect = (v) => {\n      emit(\"update:asset\", v);\n      emit(\"update:dialog\", false);\n    };\n\n    const handleClear = () => (filter.value = \"\");\n\n    return () => (\n      <FModal\n        title={t(\"$vuetify.uikit.select_asset\")}\n        modelValue={props.dialog}\n        desktop=\"menu\"\n        close-on-content-click={false}\n        onUpdate:modelValue={(v) => emit(\"update:dialog\", v)}\n      >\n        {{\n          activator: ({ isActive, props: { onClick } }) => (\n            <FAssetSelectField\n              class={[{ \"f-asset-field--active\": isActive }]}\n              asset={props.asset}\n              onClick={withModifiers(onClick, [\"stop\"])}\n              onMousedown={withModifiers(() => {}, [\"stop\"])}\n              {...attrs}\n            />\n          ),\n          default: () => (\n            <div class=\"f-asset-select\">\n              <div class=\"f-asset-select__search\">\n                <FSearchInput\n                  v-model={filter.value}\n                  variant=\"outlined\"\n                  clearable\n                  onClick:clear={handleClear}\n                />\n              </div>\n              {!empty.value ? (\n                <FAssetList\n                  asset={props.asset}\n                  assets={filteredAssets.value}\n                  onSelect={handleSelect}\n                />\n              ) : (\n                <div class=\"f-asset-select__search--empty\">\n                  <img src=\"https://static.fox.one/image/empty_placeholder.svg\" />\n                  <p>{t(\"$vuetify.uikit.no_results\")}</p>\n                </div>\n              )}\n            </div>\n          ),\n        }}\n      </FModal>\n    );\n  },\n});\n"],"names":["FAssetItem","defineComponent","name","props","asset","type","Object","default","setup","_createVNode","VLazy","FListItem","symbol","id","prepend","FAssetLogo","_isSlot","s","_isVNode","__name","FAssetList","assets","Array","emits","select","emit","current","computed","_slot","VList","value","map","convertMixinAsset","filterAssets","filter","FAssetSelect","dialog","Boolean","attrs","t","useLocale","ref","filteredAssets","empty","length","handleSelect","v","handleClear","FModal","activator","isActive","onClick","FAssetSelectField","_mergeProps","withModifiers","FSearchInput","$event"],"mappings":"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"}