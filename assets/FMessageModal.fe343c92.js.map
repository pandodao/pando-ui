{"version":3,"file":"FMessageModal.fe343c92.js","sources":["../../packages/uikit/src/components/FMessageModal/FMessageModal.tsx"],"sourcesContent":["import { defineComponent, PropType, ref, watch } from \"vue\";\nimport { useLocale } from \"vuetify\";\n\nimport type { VNode } from \"vue\";\n\nimport { FModal } from \"../FModal\";\nimport { FButton } from \"../FButton\";\nimport { FRender } from \"../FRender\";\n\nimport \"./FMessageModal.scss\";\n\nexport interface ModalAction {\n  show?: boolean;\n  text?: string;\n  props?: Record<string, any>;\n  classes?: Record<string, any>;\n  callback?: (...args: any) => void;\n}\n\nexport const FMessageModal = defineComponent({\n  name: \"FMessageModal\",\n\n  props: {\n    title: {\n      type: [String, Object] as PropType<String | VNode>,\n      default: \"\",\n    },\n    text: {\n      type: [String, Object] as PropType<String | VNode>,\n      default: \"\",\n    },\n    cancel: {\n      type: Object as PropType<ModalAction>,\n      default: () => ({}),\n    },\n    confirm: {\n      type: Object as PropType<ModalAction>,\n      default: () => ({}),\n    },\n    actions: {\n      type: Object as PropType<VNode>,\n    },\n  },\n\n  emits: {\n    destroy: () => true,\n  },\n\n  setup(props, { emit, expose }) {\n    const { t } = useLocale();\n    const dialog = ref(false);\n\n    const show = () => (dialog.value = true);\n\n    const close = () => (dialog.value = false);\n\n    const handleDialogChange = (value) => {\n      if (!value) {\n        emit(\"destroy\");\n      }\n    };\n\n    watch(() => dialog.value, handleDialogChange);\n\n    expose({ show, close });\n\n    const genAction = (action: ModalAction) => {\n      if (!action.show) {\n        return null;\n      }\n\n      return (\n        <FButton\n          {...(action.props || {})}\n          class={action.classes || \"\"}\n          onClick={() => {\n            dialog.value = false;\n            action.callback && action.callback();\n          }}\n        >\n          {action.text}\n        </FButton>\n      );\n    };\n\n    return () => (\n      <FModal\n        v-model={dialog.value}\n        title={\n          <div class=\"f-msg-modal__title\">\n            <FRender content={props.title} />\n          </div>\n        }\n        maxWidth=\"420\"\n        class=\"f-msg-modal\"\n      >\n        <div class=\"f-msg-modal__body\">\n          <FRender content={props.text} />\n          <div class=\"f-msg-modal__actions\">\n            {props.actions || [\n              genAction({\n                show: true,\n                text: t(\"$vuetify.uikit.cancel\"),\n                props: { variant: \"plain\" },\n                ...(props?.cancel || {}),\n              }),\n              genAction({\n                show: true,\n                text: t(\"$vuetify.uikit.continue\"),\n                props: { color: \"greyscale_1\" },\n                ...(props?.confirm || {}),\n              }),\n            ]}\n          </div>\n        </div>\n      </FModal>\n    );\n  },\n});\n"],"names":["FMessageModal","defineComponent","name","props","title","type","String","Object","default","text","cancel","confirm","actions","emits","destroy","setup","emit","expose","t","useLocale","dialog","ref","show","__name","value","close","watch","genAction","action","_createVNode","FButton","_mergeProps","classes","callback","FModal","$event","FRender","variant","color"],"mappings":"yTAmBaA,MAAAA,EAAgBC,EAAgB,CAC3CC,KAAM,gBAENC,MAAO,CACLC,MAAO,CACLC,KAAM,CAACC,OAAQC,MAAM,EACrBC,QAAS,EACV,EACDC,KAAM,CACJJ,KAAM,CAACC,OAAQC,MAAM,EACrBC,QAAS,EACV,EACDE,OAAQ,CACNL,KAAME,OACNC,QAAS,KAAO,CAAA,EACjB,EACDG,QAAS,CACPN,KAAME,OACNC,QAAS,KAAO,CAAA,EACjB,EACDI,QAAS,CACPP,KAAME,MACR,CACD,EAEDM,MAAO,CACLC,QAAS,IAAM,EAChB,EAEDC,MAAMZ,EAAO,CAAEa,KAAAA,EAAMC,OAAAA,CAAO,EAAG,CAC7B,KAAM,CAAEC,EAAAA,CAAG,EAAGC,EAAS,EACjBC,EAASC,EAAI,EAAK,EAElBC,EAAOC,EAAA,IAAOH,EAAOI,MAAQ,GAAtB,QAEPC,EAAQF,EAAA,IAAOH,EAAOI,MAAQ,GAAtB,SAQdE,EAAM,IAAMN,EAAOI,MANSA,EAAAA,GAAU,CAC/BA,GACHR,EAAK,SAAS,GAFUQ,qBAMgB,EAE5CP,EAAO,CAAEK,KAAAA,EAAMG,MAAAA,CAAM,CAAC,EAEtB,MAAME,EAAaC,EAAAA,GACZA,EAAON,KAIZO,EAAAC,EAAAC,EAESH,EAAOzB,OAAS,CAAA,EAAE,CAAA,MAChByB,EAAOI,SAAW,GAAE,QAClB,IAAM,CACbZ,EAAOI,MAAQ,GACfI,EAAOK,UAAYL,EAAOK,UAC5B,CAAC,CAAA,EAAA,CAAA,QAEAL,IAAAA,CAAAA,EAAOnB,IAAI,CAAA,CAAA,EAZP,KAFQmB,aAmBnB,MAAO,IAAAC,EAAAK,EAAA,CAAA,WAEMd,EAAOI,MAAK,sBAAZJ,GAAAA,EAAOI,MAAKW,EAAA,MAAAN,EAAA,MAAA,CAAA,MAER,oBAAoB,EAAA,CAAAA,EAAAO,EAAA,CAAA,QACXjC,EAAMC,KAAK,EAAA,IAAA,CAAA,CAAA,EAAA,SAGxB,MAAK,MACR,aAAa,EAAA,CAAA,QAAA,IAAA,CAAAyB,EAAA,MAAA,CAAA,MAER,mBAAmB,EAAA,CAAAA,EAAAO,EAAA,CAAA,QACVjC,EAAMM,IAAI,EAAA,IAAA,EAAAoB,EAAA,MAAA,CAAA,MACjB,sBAAsB,EAAA,CAC9B1B,EAAMS,SAAW,CAChBe,EAAU,CACRL,KAAM,GACNb,KAAMS,EAAE,uBAAuB,EAC/Bf,MAAO,CAAEkC,QAAS,OAAS,EAC3B,IAAIlC,GAAAA,YAAAA,EAAOO,SAAU,EACtB,CAAA,EACDiB,EAAU,CACRL,KAAM,GACNb,KAAMS,EAAE,yBAAyB,EACjCf,MAAO,CAAEmC,MAAO,aAAe,EAC/B,IAAInC,GAAAA,YAAAA,EAAOQ,UAAW,EACxB,CAAC,CAAC,CACH,CAAA,CAAA,CAAA,CAAA,EAIR,CACH,CACF,CAAC"}