{"version":3,"file":"VProgressCircular.c527f932.js","sources":["../../node_modules/vuetify/lib/composables/resizeObserver.mjs","../../node_modules/vuetify/lib/components/VProgressCircular/VProgressCircular.mjs"],"sourcesContent":["// Utilities\nimport { onBeforeUnmount, readonly, ref, watch } from 'vue';\n// Globals\nimport { IN_BROWSER } from \"../util/globals.mjs\";\nexport function useResizeObserver(callback) {\n  const resizeRef = ref();\n  const contentRect = ref();\n  if (IN_BROWSER) {\n    const observer = new ResizeObserver(entries => {\n      callback?.(entries, observer);\n      if (!entries.length) return;\n      contentRect.value = entries[0].contentRect;\n    });\n    onBeforeUnmount(() => {\n      observer.disconnect();\n    });\n    watch(resizeRef, (newValue, oldValue) => {\n      if (oldValue) {\n        observer.unobserve(oldValue);\n        contentRect.value = undefined;\n      }\n      if (newValue) observer.observe(newValue);\n    }, {\n      flush: 'post'\n    });\n  }\n  return {\n    resizeRef,\n    contentRect: readonly(contentRect)\n  };\n}\n//# sourceMappingURL=resizeObserver.mjs.map","import { createVNode as _createVNode } from \"vue\";\n// Styles\nimport \"./VProgressCircular.css\";\n\n// Composables\nimport { makeSizeProps, useSize } from \"../../composables/size.mjs\";\nimport { makeTagProps } from \"../../composables/tag.mjs\";\nimport { makeThemeProps, provideTheme } from \"../../composables/theme.mjs\";\nimport { useIntersectionObserver } from \"../../composables/intersectionObserver.mjs\";\nimport { useResizeObserver } from \"../../composables/resizeObserver.mjs\";\nimport { useTextColor } from \"../../composables/color.mjs\"; // Utilities\nimport { computed, ref, toRef, watchEffect } from 'vue';\nimport { convertToUnit, genericComponent, useRender } from \"../../util/index.mjs\"; // Types\nexport const VProgressCircular = genericComponent()({\n  name: 'VProgressCircular',\n  props: {\n    bgColor: String,\n    color: String,\n    indeterminate: [Boolean, String],\n    modelValue: {\n      type: [Number, String],\n      default: 0\n    },\n    rotate: {\n      type: [Number, String],\n      default: 0\n    },\n    width: {\n      type: [Number, String],\n      default: 4\n    },\n    ...makeSizeProps(),\n    ...makeTagProps({\n      tag: 'div'\n    }),\n    ...makeThemeProps()\n  },\n  setup(props, _ref) {\n    let {\n      slots\n    } = _ref;\n    const MAGIC_RADIUS_CONSTANT = 20;\n    const CIRCUMFERENCE = 2 * Math.PI * MAGIC_RADIUS_CONSTANT;\n    const root = ref();\n    const {\n      themeClasses\n    } = provideTheme(props);\n    const {\n      sizeClasses,\n      sizeStyles\n    } = useSize(props);\n    const {\n      textColorClasses,\n      textColorStyles\n    } = useTextColor(toRef(props, 'color'));\n    const {\n      textColorClasses: underlayColorClasses,\n      textColorStyles: underlayColorStyles\n    } = useTextColor(toRef(props, 'bgColor'));\n    const {\n      intersectionRef,\n      isIntersecting\n    } = useIntersectionObserver();\n    const {\n      resizeRef,\n      contentRect\n    } = useResizeObserver();\n    const normalizedValue = computed(() => Math.max(0, Math.min(100, parseFloat(props.modelValue))));\n    const width = computed(() => Number(props.width));\n    const size = computed(() => {\n      // Get size from element if size prop value is small, large etc\n      return sizeStyles.value ? Number(props.size) : contentRect.value ? contentRect.value.width : Math.max(width.value, 32);\n    });\n    const diameter = computed(() => MAGIC_RADIUS_CONSTANT / (1 - width.value / size.value) * 2);\n    const strokeWidth = computed(() => width.value / size.value * diameter.value);\n    const strokeDashOffset = computed(() => convertToUnit((100 - normalizedValue.value) / 100 * CIRCUMFERENCE));\n    watchEffect(() => {\n      intersectionRef.value = root.value;\n      resizeRef.value = root.value;\n    });\n    useRender(() => _createVNode(props.tag, {\n      \"ref\": root,\n      \"class\": ['v-progress-circular', {\n        'v-progress-circular--indeterminate': !!props.indeterminate,\n        'v-progress-circular--visible': isIntersecting.value,\n        'v-progress-circular--disable-shrink': props.indeterminate === 'disable-shrink'\n      }, themeClasses.value, sizeClasses.value, textColorClasses.value],\n      \"style\": [sizeStyles.value, textColorStyles.value],\n      \"role\": \"progressbar\",\n      \"aria-valuemin\": \"0\",\n      \"aria-valuemax\": \"100\",\n      \"aria-valuenow\": props.indeterminate ? undefined : normalizedValue.value\n    }, {\n      default: () => [_createVNode(\"svg\", {\n        \"style\": {\n          transform: `rotate(calc(-90deg + ${Number(props.rotate)}deg))`\n        },\n        \"xmlns\": \"http://www.w3.org/2000/svg\",\n        \"viewBox\": `0 0 ${diameter.value} ${diameter.value}`\n      }, [_createVNode(\"circle\", {\n        \"class\": ['v-progress-circular__underlay', underlayColorClasses.value],\n        \"style\": underlayColorStyles.value,\n        \"fill\": \"transparent\",\n        \"cx\": \"50%\",\n        \"cy\": \"50%\",\n        \"r\": MAGIC_RADIUS_CONSTANT,\n        \"stroke-width\": strokeWidth.value,\n        \"stroke-dasharray\": CIRCUMFERENCE,\n        \"stroke-dashoffset\": 0\n      }, null), _createVNode(\"circle\", {\n        \"class\": \"v-progress-circular__overlay\",\n        \"fill\": \"transparent\",\n        \"cx\": \"50%\",\n        \"cy\": \"50%\",\n        \"r\": MAGIC_RADIUS_CONSTANT,\n        \"stroke-width\": strokeWidth.value,\n        \"stroke-dasharray\": CIRCUMFERENCE,\n        \"stroke-dashoffset\": strokeDashOffset.value\n      }, null)]), slots.default && _createVNode(\"div\", {\n        \"class\": \"v-progress-circular__content\"\n      }, [slots.default({\n        value: normalizedValue.value\n      })])]\n    }));\n    return {};\n  }\n});\n//# sourceMappingURL=VProgressCircular.mjs.map"],"names":["useResizeObserver","callback","resizeRef","ref","contentRect","IN_BROWSER","observer","entries","onBeforeUnmount","watch","newValue","oldValue","readonly","__name","VProgressCircular","genericComponent","makeSizeProps","makeTagProps","makeThemeProps","props","_ref","slots","MAGIC_RADIUS_CONSTANT","CIRCUMFERENCE","root","themeClasses","provideTheme","sizeClasses","sizeStyles","useSize","textColorClasses","textColorStyles","useTextColor","toRef","underlayColorClasses","underlayColorStyles","intersectionRef","isIntersecting","useIntersectionObserver","normalizedValue","computed","width","size","diameter","strokeWidth","strokeDashOffset","convertToUnit","watchEffect","useRender","_createVNode"],"mappings":"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"}