var W=Object.defineProperty;var f=(e,u)=>W(e,"name",{value:u,configurable:!0});import{a as h,b as v,s as z,r as F,d as P,p as X,t as Y,i as Z,u as ee,A as ae,z as ne,o as te,n as le}from"./vue.esm-bundler.80cafc0b.js";import{p as x,m as H,a as se,g as K,u as j,y as q,d as G}from"./color.7ba4ffe3.js";import{E as D,w}from"./helpers.32675158.js";import{a as ie,u as ue}from"./locale.68d0262d.js";import{V as re,I as T}from"./VIcon.ac9f05d6.js";import{V as oe}from"./VMessages.8e887dfb.js";import{m as de,u as ce}from"./density.e2c1329b.js";import{u as E,a as U}from"./proxiedModel.dbd4de1d.js";const ve=x({text:String,onClick:D(),...H(),...se()},"VLabel"),Pe=K()({name:"VLabel",props:ve(),setup(e,u){let{slots:c}=u;return j(()=>{var n;return h("label",{class:["v-label",{"v-label--clickable":!!e.onClick},e.class],style:e.style,onClick:e.onClick},[e.text,(n=c.default)==null?void 0:n.call(c)])}),{}}});function fe(e){const{t:u}=ie();function c(n){var V;let{name:o}=n;const a={prepend:"prependAction",prependInner:"prependAction",append:"appendAction",appendInner:"appendAction",clear:"clear"}[o],r=e[`onClick:${o}`],m=r&&a?u(`$vuetify.input.${a}`,(V=e.label)!=null?V:""):void 0;return h(re,{icon:e[`${o}Icon`],"aria-label":m,onClick:r},null)}return f(c,"InputIcon"),{InputIcon:c}}f(fe,"useInputIcon");const ge=x({focused:Boolean,"onUpdate:focused":D()},"focus");function xe(e){let u=arguments.length>1&&arguments[1]!==void 0?arguments[1]:q();const c=E(e,"focused"),n=v(()=>({[`${u}--focused`]:c.value}));function o(){c.value=!0}f(o,"focus");function a(){c.value=!1}return f(a,"blur"),{focusClasses:n,isFocused:c,focus:o,blur:a}}f(xe,"useFocus");const J=Symbol.for("vuetify:form"),Ae=x({disabled:Boolean,fastFail:Boolean,readonly:Boolean,modelValue:{type:Boolean,default:null},validateOn:{type:String,default:"input"}},"form");function De(e){const u=E(e,"modelValue"),c=v(()=>e.disabled),n=v(()=>e.readonly),o=z(!1),a=F([]),r=F([]);async function m(){const s=[];let l=!0;r.value=[],o.value=!0;for(const d of a.value){const i=await d.validate();if(i.length>0&&(l=!1,s.push({id:d.id,errorMessages:i})),!l&&e.fastFail)break}return r.value=s,o.value=!1,{valid:l,errors:r.value}}f(m,"validate");function V(){a.value.forEach(s=>s.reset())}f(V,"reset");function k(){a.value.forEach(s=>s.resetValidation())}return f(k,"resetValidation"),P(a,()=>{let s=0,l=0;const d=[];for(const i of a.value)i.isValid===!1?(l++,d.push({id:i.id,errorMessages:i.errorMessages})):i.isValid===!0&&s++;r.value=d,u.value=l>0?!1:s===a.value.length?!0:null},{deep:!0,flush:"post"}),X(J,{register:s=>{let{id:l,validate:d,reset:i,resetValidation:b}=s;a.value.some(B=>B.id===l),a.value.push({id:l,validate:d,reset:i,resetValidation:b,isValid:null,errorMessages:[]})},unregister:s=>{a.value=a.value.filter(l=>l.id!==s)},update:(s,l,d)=>{const i=a.value.find(b=>b.id===s);!i||(i.isValid=l,i.errorMessages=d)},isDisabled:c,isReadonly:n,isValidating:o,isValid:u,items:a,validateOn:Y(e,"validateOn")}),{errors:r,isDisabled:c,isReadonly:n,isValidating:o,isValid:u,items:a,validate:m,reset:V,resetValidation:k}}f(De,"createForm");function me(){return Z(J,null)}f(me,"useForm");const ye=x({disabled:{type:Boolean,default:null},error:Boolean,errorMessages:{type:[Array,String],default:()=>[]},maxErrors:{type:[Number,String],default:1},name:String,label:String,readonly:{type:Boolean,default:null},rules:{type:Array,default:()=>[]},modelValue:null,validateOn:String,validationValue:null,...ge()},"validation");function pe(e){let u=arguments.length>1&&arguments[1]!==void 0?arguments[1]:q(),c=arguments.length>2&&arguments[2]!==void 0?arguments[2]:G();const n=E(e,"modelValue"),o=v(()=>e.validationValue===void 0?n.value:e.validationValue),a=me(),r=F([]),m=z(!0),V=v(()=>!!(w(n.value===""?null:n.value).length||w(o.value===""?null:o.value).length)),k=v(()=>{var t;return!!((t=e.disabled)!=null?t:a==null?void 0:a.isDisabled.value)}),s=v(()=>{var t;return!!((t=e.readonly)!=null?t:a==null?void 0:a.isReadonly.value)}),l=v(()=>{var t;return(t=e.errorMessages)!=null&&t.length?w(e.errorMessages).concat(r.value).slice(0,Math.max(0,+e.maxErrors)):r.value}),d=v(()=>{var p,I;let t=((p=e.validateOn)!=null?p:a==null?void 0:a.validateOn.value)||"input";t==="lazy"&&(t="input lazy");const g=new Set((I=t==null?void 0:t.split(" "))!=null?I:[]);return{blur:g.has("blur")||g.has("input"),input:g.has("input"),submit:g.has("submit"),lazy:g.has("lazy")}}),i=v(()=>{var t;return e.error||((t=e.errorMessages)==null?void 0:t.length)?!1:e.rules.length?m.value?r.value.length||d.value.lazy?null:!0:!r.value.length:!0}),b=z(!1),B=v(()=>({[`${u}--error`]:i.value===!1,[`${u}--dirty`]:V.value,[`${u}--disabled`]:k.value,[`${u}--readonly`]:s.value})),M=v(()=>{var t;return(t=e.name)!=null?t:ee(c)});ae(()=>{a==null||a.register({id:M.value,validate:y,reset:A,resetValidation:C})}),ne(()=>{a==null||a.unregister(M.value)}),te(async()=>{d.value.lazy||await y(!0),a==null||a.update(M.value,i.value,l.value)}),U(()=>d.value.input,()=>{P(o,()=>{if(o.value!=null)y();else if(e.focused){const t=P(()=>e.focused,g=>{g||y(),t()})}})}),U(()=>d.value.blur,()=>{P(()=>e.focused,t=>{t||y()})}),P([i,l],()=>{a==null||a.update(M.value,i.value,l.value)});function A(){n.value=null,le(C)}f(A,"reset");function C(){m.value=!0,d.value.lazy?r.value=[]:y(!0)}f(C,"resetValidation");async function y(){var p;let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;const g=[];b.value=!0;for(const I of e.rules){if(g.length>=+((p=e.maxErrors)!=null?p:1))break;const S=await(typeof I=="function"?I:()=>I)(o.value);if(S!==!0){if(S!==!1&&typeof S!="string"){console.warn(`${S} is not a valid value. Rule functions must return boolean true or a string.`);continue}g.push(S||"")}}return r.value=g,b.value=!1,m.value=t,r.value}return f(y,"validate"),{errorMessages:l,isDirty:V,isDisabled:k,isReadonly:s,isPristine:m,isValid:i,isValidating:b,reset:A,resetValidation:C,validate:y,validationClasses:B}}f(pe,"useValidation");const he=x({id:String,appendIcon:T,centerAffix:{type:Boolean,default:!0},prependIcon:T,hideDetails:[Boolean,String],hideSpinButtons:Boolean,hint:String,persistentHint:Boolean,messages:{type:[Array,String],default:()=>[]},direction:{type:String,default:"horizontal",validator:e=>["horizontal","vertical"].includes(e)},"onClick:prepend":D(),"onClick:append":D(),...H(),...de(),...ye()},"VInput"),we=K()({name:"VInput",props:{...he()},emits:{"update:modelValue":e=>!0},setup(e,u){let{attrs:c,slots:n,emit:o}=u;const{densityClasses:a}=ce(e),{rtlClasses:r}=ue(),{InputIcon:m}=fe(e),V=G(),k=v(()=>e.id||`input-${V}`),s=v(()=>`${k.value}-messages`),{errorMessages:l,isDirty:d,isDisabled:i,isReadonly:b,isPristine:B,isValid:M,isValidating:A,reset:C,resetValidation:y,validate:t,validationClasses:g}=pe(e,"v-input",k),p=v(()=>({id:k,messagesId:s,isDirty:d,isDisabled:i,isReadonly:b,isPristine:B,isValid:M,isValidating:A,reset:C,resetValidation:y,validate:t})),I=v(()=>{var $;return(($=e.errorMessages)==null?void 0:$.length)||!B.value&&l.value.length?l.value:e.hint&&(e.persistentHint||e.focused)?e.hint:e.messages});return j(()=>{var _,O,L,N;const $=!!(n.prepend||e.prependIcon),S=!!(n.append||e.appendIcon),R=I.value.length>0,Q=!e.hideDetails||e.hideDetails==="auto"&&(R||!!n.details);return h("div",{class:["v-input",`v-input--${e.direction}`,{"v-input--center-affix":e.centerAffix,"v-input--hide-spin-buttons":e.hideSpinButtons},a.value,r.value,g.value,e.class],style:e.style},[$&&h("div",{key:"prepend",class:"v-input__prepend"},[(_=n.prepend)==null?void 0:_.call(n,p.value),e.prependIcon&&h(m,{key:"prepend-icon",name:"prepend"},null)]),n.default&&h("div",{class:"v-input__control"},[(O=n.default)==null?void 0:O.call(n,p.value)]),S&&h("div",{key:"append",class:"v-input__append"},[e.appendIcon&&h(m,{key:"append-icon",name:"append"},null),(L=n.append)==null?void 0:L.call(n,p.value)]),Q&&h("div",{class:"v-input__details"},[h(oe,{id:s.value,active:R,messages:I.value},{message:n.message}),(N=n.details)==null?void 0:N.call(n,p.value)])])}),{reset:C,resetValidation:y,validate:t,isValid:M,errorMessages:l}}});export{we as V,me as a,ge as b,Pe as c,ye as d,pe as e,fe as f,Ae as g,De as h,he as m,xe as u};
//# sourceMappingURL=VInput.44c51e7f.js.map
