var H=Object.defineProperty;var o=(e,t)=>H(e,"name",{value:t,configurable:!0});import{y as P,z as T}from"./helpers.f37785d0.js";const E=Symbol("rippleStop"),Y=80;function y(e,t){e.style.transform=t,e.style.webkitTransform=t}o(y,"transform");function L(e){return e.constructor.name==="TouchEvent"}o(L,"isTouchEvent");function C(e){return e.constructor.name==="KeyboardEvent"}o(C,"isKeyboardEvent");const X=o(function(e,t){var u;let i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},s=0,r=0;if(!C(e)){const d=t.getBoundingClientRect(),l=L(e)?e.touches[e.touches.length-1]:e;s=l.clientX-d.left,r=l.clientY-d.top}let n=0,p=.3;(u=t._ripple)!=null&&u.circle?(p=.15,n=t.clientWidth/2,n=i.center?n:n+Math.sqrt((s-n)**2+(r-n)**2)/4):n=Math.sqrt(t.clientWidth**2+t.clientHeight**2)/2;const c=`${(t.clientWidth-n*2)/2}px`,f=`${(t.clientHeight-n*2)/2}px`,_=i.center?c:`${s-n}px`,w=i.center?f:`${r-n}px`;return{radius:n,scale:p,x:_,y:w,centerX:c,centerY:f}},"calculate"),h={show(e,t){var l;let i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if(!((l=t==null?void 0:t._ripple)!=null&&l.enabled))return;const s=document.createElement("span"),r=document.createElement("span");s.appendChild(r),s.className="v-ripple__container",i.class&&(s.className+=` ${i.class}`);const{radius:n,scale:p,x:c,y:f,centerX:_,centerY:w}=X(e,t,i),u=`${n*2}px`;r.className="v-ripple__animation",r.style.width=u,r.style.height=u,t.appendChild(s);const d=window.getComputedStyle(t);d&&d.position==="static"&&(t.style.position="relative",t.dataset.previousPosition="static"),r.classList.add("v-ripple__animation--enter"),r.classList.add("v-ripple__animation--visible"),y(r,`translate(${c}, ${f}) scale3d(${p},${p},${p})`),r.dataset.activated=String(performance.now()),setTimeout(()=>{r.classList.remove("v-ripple__animation--enter"),r.classList.add("v-ripple__animation--in"),y(r,`translate(${_}, ${w}) scale3d(1,1,1)`)},0)},hide(e){var n;if(!((n=e==null?void 0:e._ripple)!=null&&n.enabled))return;const t=e.getElementsByClassName("v-ripple__animation");if(t.length===0)return;const i=t[t.length-1];if(i.dataset.isHiding)return;i.dataset.isHiding="true";const s=performance.now()-Number(i.dataset.activated),r=Math.max(250-s,0);setTimeout(()=>{i.classList.remove("v-ripple__animation--in"),i.classList.add("v-ripple__animation--out"),setTimeout(()=>{var c;e.getElementsByClassName("v-ripple__animation").length===1&&e.dataset.previousPosition&&(e.style.position=e.dataset.previousPosition,delete e.dataset.previousPosition),((c=i.parentNode)==null?void 0:c.parentNode)===e&&e.removeChild(i.parentNode)},300)},r)}};function b(e){return typeof e>"u"||!!e}o(b,"isRippleEnabled");function m(e){const t={},i=e.currentTarget;if(!(!(i!=null&&i._ripple)||i._ripple.touched||e[E])){if(e[E]=!0,L(e))i._ripple.touched=!0,i._ripple.isTouch=!0;else if(i._ripple.isTouch)return;if(t.center=i._ripple.centered||C(e),i._ripple.class&&(t.class=i._ripple.class),L(e)){if(i._ripple.showTimerCommit)return;i._ripple.showTimerCommit=()=>{h.show(e,i,t)},i._ripple.showTimer=window.setTimeout(()=>{var s;(s=i==null?void 0:i._ripple)!=null&&s.showTimerCommit&&(i._ripple.showTimerCommit(),i._ripple.showTimerCommit=null)},Y)}else h.show(e,i,t)}}o(m,"rippleShow");function g(e){e[E]=!0}o(g,"rippleStop");function a(e){const t=e.currentTarget;if(!!(t!=null&&t._ripple)){if(window.clearTimeout(t._ripple.showTimer),e.type==="touchend"&&t._ripple.showTimerCommit){t._ripple.showTimerCommit(),t._ripple.showTimerCommit=null,t._ripple.showTimer=window.setTimeout(()=>{a(e)});return}window.setTimeout(()=>{t._ripple&&(t._ripple.touched=!1)}),h.hide(t)}}o(a,"rippleHide");function $(e){const t=e.currentTarget;!(t!=null&&t._ripple)||(t._ripple.showTimerCommit&&(t._ripple.showTimerCommit=null),window.clearTimeout(t._ripple.showTimer))}o($,"rippleCancelShow");let v=!1;function k(e){!v&&(e.keyCode===T.enter||e.keyCode===T.space)&&(v=!0,m(e))}o(k,"keyboardRippleShow");function R(e){v=!1,a(e)}o(R,"keyboardRippleHide");function x(e){v&&(v=!1,a(e))}o(x,"focusRippleHide");function N(e,t,i){var p;const{value:s,modifiers:r}=t,n=b(s);if(n||h.hide(e),e._ripple=(p=e._ripple)!=null?p:{},e._ripple.enabled=n,e._ripple.centered=r.center,e._ripple.circle=r.circle,P(s)&&s.class&&(e._ripple.class=s.class),n&&!i){if(r.stop){e.addEventListener("touchstart",g,{passive:!0}),e.addEventListener("mousedown",g);return}e.addEventListener("touchstart",m,{passive:!0}),e.addEventListener("touchend",a,{passive:!0}),e.addEventListener("touchmove",$,{passive:!0}),e.addEventListener("touchcancel",a),e.addEventListener("mousedown",m),e.addEventListener("mouseup",a),e.addEventListener("mouseleave",a),e.addEventListener("keydown",k),e.addEventListener("keyup",R),e.addEventListener("blur",x),e.addEventListener("dragstart",a,{passive:!0})}else!n&&i&&S(e)}o(N,"updateRipple");function S(e){e.removeEventListener("mousedown",m),e.removeEventListener("touchstart",m),e.removeEventListener("touchend",a),e.removeEventListener("touchmove",$),e.removeEventListener("touchcancel",a),e.removeEventListener("mouseup",a),e.removeEventListener("mouseleave",a),e.removeEventListener("keydown",k),e.removeEventListener("keyup",R),e.removeEventListener("dragstart",a),e.removeEventListener("blur",x)}o(S,"removeListeners");function B(e,t){N(e,t,!1)}o(B,"mounted");function M(e){delete e._ripple,S(e)}o(M,"unmounted");function V(e,t){if(t.value===t.oldValue)return;const i=b(t.oldValue);N(e,t,i)}o(V,"updated");const z={mounted:B,unmounted:M,updated:V};export{z as R};
//# sourceMappingURL=index.f175e2d9.js.map
