{"version":3,"file":"assets.82641039.js","sources":["../../packages/uikit/src/components/FAssetSelect/FAssetItem.tsx","../../packages/uikit/src/components/FAssetSelect/FAssetList.tsx","../../packages/uikit/src/components/FAssetSelect/FSearchRecords.tsx","../../packages/uikit/src/components/FAssetSelect/FAssetSelect.tsx"],"sourcesContent":["import { defineComponent, PropType } from \"vue\";\nimport { VLazy, VIcon } from \"vuetify/components\";\nimport { FListItem } from \"../FListItem\";\nimport { FAssetLogo } from \"../FAssetLogo\";\nimport \"./FAssetItem.scss\";\n\nimport type { Asset } from \"../../types\";\n\nexport const FAssetItem = defineComponent({\n  name: \"FAssetItem\",\n\n  props: {\n    asset: {\n      type: Object as PropType<Asset>,\n      default: null,\n    },\n    current: {\n      type: String,\n      default: \"\",\n    },\n  },\n\n  setup(props) {\n    return () => (\n      <VLazy min-height={52}>\n        <FListItem\n          title={props.asset.symbol}\n          subtitle={props.asset.name}\n          value={props.asset.id}\n          class=\"f-asset-item\"\n        >\n          {{\n            prepend: () => (\n              <FAssetLogo\n                asset={props.asset}\n                size=\"28\"\n                chainSize=\"12\"\n                class=\"f-asset-item__logo\"\n              />\n            ),\n            append: () =>\n              props.current === props.asset?.id ? (\n                <VIcon size={16}>$check</VIcon>\n              ) : (\n                \"\"\n              ),\n          }}\n        </FListItem>\n      </VLazy>\n    );\n  },\n});\n","import { defineComponent, PropType, computed } from \"vue\";\nimport { FAssetItem } from \"./FAssetItem\";\nimport { VList } from \"vuetify/components\";\nimport \"./FAssetList.scss\";\n\nimport type { Asset } from \"../../types\";\n\nexport const FAssetList = defineComponent({\n  name: \"FAssetList\",\n\n  props: {\n    asset: {\n      type: Object as PropType<Asset | null>,\n      default: null,\n    },\n    assets: {\n      type: Array as PropType<Asset[]>,\n      default: () => [],\n    },\n  },\n\n  emits: {\n    select: (asset: Asset) => true,\n  },\n\n  setup(props, { emit }) {\n    const current = computed(() => [props?.asset?.id] ?? undefined);\n\n    return () => (\n      <VList selected={current.value} class={[\"f-asset-select__list\"]}>\n        {props.assets.map((asset) => (\n          <FAssetItem\n            asset={asset}\n            current={props?.asset?.id}\n            key={asset.id}\n            onClick={() => emit(\"select\", asset)}\n          />\n        ))}\n      </VList>\n    );\n  },\n});\n","import \"./FSearchRecords.scss\";\nimport { defineComponent, PropType } from \"vue\";\n\nexport const FSearchRecords = defineComponent({\n  name: \"FSearchRecords\",\n\n  props: {\n    records: {\n      type: Object as PropType<string[]>,\n      default: () => [],\n    },\n  },\n\n  emits: {\n    select: (v: string) => true,\n    clear: () => true,\n  },\n\n  setup(props, { emit }) {\n    return () => (\n      <div class=\"f-search-records\">\n        {props.records.map((record) => {\n          return (\n            <div class=\"f-search-record\" onClick={() => emit(\"select\", record)}>\n              {record}\n            </div>\n          );\n        })}\n\n        <div\n          class=\"f-search-record f-search-record__clear\"\n          onClick={() => emit(\"clear\")}\n        >\n          Clear\n        </div>\n      </div>\n    );\n  },\n});\n","import {\n  computed,\n  defineComponent,\n  nextTick,\n  PropType,\n  ref,\n  watch,\n  withModifiers,\n} from \"vue\";\nimport { useLocale } from \"vuetify\";\nimport { FModal } from \"../FModal\";\nimport { FAssetList } from \"./FAssetList\";\nimport { FAssetSelectField } from \"./FAssetSelectField\";\nimport { FSearchRecords } from \"./FSearchRecords\";\nimport { FSearchInput } from \"../FSearchInput\";\nimport { filterAssets } from \"../../utils\";\n\nimport type { Asset } from \"../../types\";\n\nimport \"./FAssetSelect.scss\";\n\nexport const FAssetSelect = defineComponent({\n  name: \"FAssetSelect\",\n\n  props: {\n    dialog: {\n      type: Boolean,\n      default: false,\n    },\n    asset: {\n      type: Object as PropType<Asset | null>,\n      default: null,\n    },\n    assets: {\n      type: Array as PropType<Asset[]>,\n      default: () => [],\n    },\n    themeColor: {\n      type: String,\n      default: \"primary\",\n    },\n    showRecords: {\n      type: Boolean,\n      default: false,\n    },\n    records: {\n      type: Object as PropType<string[]>,\n      default: () => [],\n    },\n    selectable: {\n      type: Boolean,\n      default: true,\n    },\n  },\n\n  emits: {\n    \"update:asset\": (value: Asset | null) => true,\n    \"update:dialog\": (value: Boolean) => true,\n    \"update:records\": (value: string) => true,\n    \"clear:records\": () => true,\n  },\n\n  setup(props, { emit, attrs }) {\n    const { t } = useLocale();\n    const filter = ref(\"\");\n\n    const filteredAssets = computed(() =>\n      filterAssets(props.assets, filter.value)\n    );\n\n    const empty = computed(() => filteredAssets.value.length === 0);\n\n    watch(\n      () => props.dialog,\n      () => {\n        if (!props.dialog && filter.value) {\n          emit(\"update:records\", filter.value);\n\n          nextTick(() => (filter.value = \"\"));\n        }\n      }\n    );\n\n    const handleSelect = (v) => {\n      emit(\"update:asset\", v);\n      emit(\"update:dialog\", false);\n    };\n\n    const handleClear = () => (filter.value = \"\");\n\n    const handleUpdateFilter = (v) => (filter.value = v);\n\n    return () => (\n      <FModal\n        title={t(\"$vuetify.uikit.select_asset\")}\n        modelValue={props.dialog}\n        desktop=\"menu\"\n        close-on-content-click={false}\n        onUpdate:modelValue={(v) => emit(\"update:dialog\", v)}\n      >\n        {{\n          activator: ({ isActive, props: { onClick } }) => (\n            <FAssetSelectField\n              class={[\n                {\n                  \"f-asset-field--active\": isActive,\n                },\n              ]}\n              selectable={props.selectable}\n              asset={props.asset}\n              onClick={withModifiers(onClick, [\"stop\"])}\n              onMousedown={withModifiers(() => {}, [\"stop\"])}\n              {...attrs}\n            />\n          ),\n          default: () => (\n            <div class=\"f-asset-select\">\n              <div class=\"f-asset-select__search\">\n                <FSearchInput\n                  v-model={filter.value}\n                  variant=\"outlined\"\n                  clearable\n                  color={props.themeColor}\n                  onClick:clear={handleClear}\n                />\n\n                {props.showRecords && props.records.length > 0 && (\n                  <FSearchRecords\n                    records={props.records}\n                    onSelect={handleUpdateFilter}\n                    onClear={() => emit(\"clear:records\")}\n                  />\n                )}\n              </div>\n              {!empty.value ? (\n                <FAssetList\n                  asset={props.asset}\n                  assets={filteredAssets.value}\n                  onSelect={handleSelect}\n                />\n              ) : (\n                <div class=\"f-asset-select__search--empty\">\n                  <img src=\"https://static.fox.one/image/empty_placeholder.svg\" />\n                  <p>{t(\"$vuetify.uikit.no_results\")}</p>\n                </div>\n              )}\n            </div>\n          ),\n        }}\n      </FModal>\n    );\n  },\n});\n"],"names":["FAssetItem","defineComponent","name","props","asset","type","Object","default","current","String","setup","_createVNode","VLazy","FListItem","symbol","id","prepend","FAssetLogo","append","VIcon","_createTextVNode","_isSlot","s","prototype","toString","call","_isVNode","FAssetList","assets","Array","emits","select","emit","computed","_slot","VList","value","map","onClick","FSearchRecords","records","v","clear","record","FAssetSelect","dialog","Boolean","themeColor","showRecords","selectable","clear:records","attrs","t","useLocale","filter","ref","filteredAssets","filterAssets","empty","length","watch","nextTick","handleSelect","handleClear","handleUpdateFilter","FModal","activator","isActive","FAssetSelectField","_mergeProps","withModifiers","FSearchInput","$event","onClear"],"mappings":"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"}