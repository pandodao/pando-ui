var I=Object.defineProperty;var n=(e,o)=>I(e,"name",{value:o,configurable:!0});import{r as x,s as h,d as C,o as N,a as r,m as T,Q as A,n as M}from"./vue.esm-bundler.80cafc0b.js";import{e as O,c as F,V as _}from"./VOverlay.a7e28035.js";import{f as U}from"./forwardRefs.34034356.js";import{m as E,u as G,V as H}from"./VProgressLinear.23574e13.js";import{m as Q,u as $}from"./position.19a0d7a5.js";import{u as j}from"./proxiedModel.dbd4de1d.js";import{m as q,u as z}from"./rounded.b42653ce.js";import{p as J,a as K,g as W,b as X,u as Y}from"./color.7ba4ffe3.js";import{m as Z,u as ee,g as te}from"./variant.1e842247.js";import{V as ae}from"./VDefaultsProvider.522cf1e0.js";import{o as oe,U as ne}from"./helpers.32675158.js";function re(e){const o=h(e);let t=-1;function a(){clearInterval(t)}n(a,"clear");function v(){a(),M(()=>o.value=e)}n(v,"reset");function f(i){const d=i?getComputedStyle(i):{transitionDuration:.2},l=parseFloat(d.transitionDuration)*1e3||200;if(a(),o.value<=0)return;const k=performance.now();t=window.setInterval(()=>{const b=performance.now()-k+l;o.value=Math.max(e-b,0),o.value<=0&&a()},l)}return n(f,"start"),A(a),{clear:a,time:o,start:f,reset:v}}n(re,"useCountdown");const se=J({multiLine:Boolean,text:String,timer:[Boolean,String],timeout:{type:[Number,String],default:5e3},vertical:Boolean,...E({location:"bottom"}),...Q(),...q(),...Z(),...K(),...oe(O({transition:"v-snackbar-transition"}),["persistent","noClickAnimation","scrim","scrollStrategy"])},"VSnackbar"),Pe=W()({name:"VSnackbar",props:se(),emits:{"update:modelValue":e=>!0},setup(e,o){let{slots:t}=o;const a=j(e,"modelValue"),{locationStyles:v}=G(e),{positionClasses:f}=$(e),{scopeId:i}=F(),{themeClasses:d}=X(e),{colorClasses:l,colorStyles:k,variantClasses:b}=ee(e),{roundedClasses:R}=z(e),c=re(Number(e.timeout)),w=x(),S=x(),V=h(!1);C(a,u),C(()=>e.timeout,u),N(()=>{a.value&&u()});let y=-1;function u(){c.reset(),window.clearTimeout(y);const s=Number(e.timeout);if(!a.value||s===-1)return;const P=ne(S.value);c.start(P),y=window.setTimeout(()=>{a.value=!1},s)}n(u,"startTimeout");function L(){c.reset(),window.clearTimeout(y)}n(L,"clearTimeout");function B(){V.value=!0,L()}n(B,"onPointerenter");function D(){V.value=!1,u()}return n(D,"onPointerleave"),Y(()=>{const s=_.filterProps(e),P=!!(t.default||t.text||e.text);return r(_,T({ref:w,class:["v-snackbar",{"v-snackbar--active":a.value,"v-snackbar--multi-line":e.multiLine&&!e.vertical,"v-snackbar--timer":!!e.timer,"v-snackbar--vertical":e.vertical},f.value,e.class],style:e.style},s,{modelValue:a.value,"onUpdate:modelValue":m=>a.value=m,contentProps:T({class:["v-snackbar__wrapper",d.value,l.value,R.value,b.value],style:[v.value,k.value],onPointerenter:B,onPointerleave:D},s.contentProps),persistent:!0,noClickAnimation:!0,scrim:!1,scrollStrategy:"none",_disableGlobalStack:!0},i),{default:()=>{var m,g,p;return[te(!1,"v-snackbar"),e.timer&&!V.value&&r("div",{key:"timer",class:"v-snackbar__timer"},[r(H,{ref:S,color:typeof e.timer=="string"?e.timer:"info",max:e.timeout,"model-value":c.time.value},null)]),P&&r("div",{key:"content",class:"v-snackbar__content",role:"status","aria-live":"polite"},[(g=(m=t.text)==null?void 0:m.call(t))!=null?g:e.text,(p=t.default)==null?void 0:p.call(t)]),t.actions&&r(ae,{defaults:{VBtn:{variant:"text",ripple:!1,slim:!0}}},{default:()=>[r("div",{class:"v-snackbar__actions"},[t.actions()])]})]},activator:t.activator})}),U({},w)}});export{Pe as V};
//# sourceMappingURL=VSnackbar.285c8d85.js.map
