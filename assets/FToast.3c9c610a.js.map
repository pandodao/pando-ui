{"version":3,"file":"FToast.3c9c610a.js","sources":["../../packages/uikit/src/components/FToast/FToast.tsx"],"sourcesContent":["import { computed, defineComponent, PropType, ref } from \"vue\";\nimport { VSnackbar, VIcon, VDivider } from \"vuetify/components\";\n\nimport \"./FToast.scss\";\n\nexport interface ToastAction {\n  text: string;\n  callback?: () => void;\n}\n\nexport const types = [\"success\", \"warning\", \"error\"] as const;\n\nexport const FToast = defineComponent({\n  name: \"FToast\",\n\n  props: {\n    action: {\n      type: Object as PropType<ToastAction | null>,\n      default: null,\n    },\n    type: String as PropType<typeof types[number]>,\n    message: String,\n  },\n\n  emits: {\n    destroy: () => true,\n  },\n\n  setup(props, { slots, expose, emit }) {\n    const visible = ref(false);\n\n    const presets = {\n      variant: \"flat\",\n      location: \"center center\",\n    } as const;\n\n    const icon = computed(() => {\n      const icons = { success: \"$check\", error: \"$alert\", warning: \"$alert\" };\n\n      return icons[props?.type ?? \"\"];\n    });\n\n    const classes = computed(() => {\n      return [\n        \"f-toast\",\n        { \"f-toast--action\": props.action },\n        props.type && `f-toast--${props.type}`,\n      ];\n    });\n\n    const renderMessage = () => (\n      <div class=\"f-toast__message\">\n        {icon.value && (\n          <VIcon size=\"16\" color={props.type} class=\"f-toast__icon\">\n            {icon.value}\n          </VIcon>\n        )}\n        <span>{slots.default?.() || props.message}</span>\n      </div>\n    );\n\n    const renderActions = () =>\n      props.action && (\n        <div class=\"f-toast__action\" onClick={() => props.action?.callback?.()}>\n          <VDivider vertical class=\"f-toast__action-divider\" />\n          <span>{props.action.text}</span>\n          <VIcon size=\"14\">$arrow_right</VIcon>\n        </div>\n      );\n\n    const show = () => (visible.value = true);\n\n    const close = () => {\n      visible.value = false;\n      emit(\"destroy\");\n    };\n\n    const update = (v) => (v ? show() : close());\n\n    expose({ show, close });\n\n    return () => (\n      <VSnackbar\n        modelValue={visible.value}\n        class={classes.value}\n        {...presets}\n        onUpdate:modelValue={update}\n      >\n        {{\n          default: renderMessage,\n          actions: renderActions,\n        }}\n      </VSnackbar>\n    );\n  },\n});\n"],"names":["FToast","defineComponent","name","props","action","type","Object","default","String","message","emits","destroy","setup","slots","expose","emit","visible","ref","presets","variant","location","icon","computed","success","error","warning","classes","renderMessage","_createVNode","value","VIcon","renderActions","onClick","callback","VDivider","text","_createTextVNode","show","close","update","v","VSnackbar","_mergeProps","actions"],"mappings":"8RAYaA,MAAAA,EAASC,EAAgB,CACpCC,KAAM,SAENC,MAAO,CACLC,OAAQ,CACNC,KAAMC,OACNC,QAAS,IACV,EACDF,KAAMG,OACNC,QAASD,MACV,EAEDE,MAAO,CACLC,QAASA,IAAM,EAChB,EAEDC,MAAMT,EAAO,CAAEU,MAAAA,EAAOC,OAAAA,EAAQC,KAAAA,CAAK,EAAG,CACpC,MAAMC,EAAUC,EAAI,EAAK,EAEnBC,EAAU,CACdC,QAAS,OACTC,SAAU,iBAGNC,EAAOC,EAAS,IAAM,OAG1B,MAFc,CAAEC,QAAS,SAAUC,MAAO,SAAUC,QAAS,WAEhDtB,EAAAA,GAAAA,YAAAA,EAAOE,OAAPF,KAAAA,EAAe,GAC9B,CAAC,EAEKuB,EAAUJ,EAAS,IAChB,CACL,UACA,CAAE,kBAAmBnB,EAAMC,QAC3BD,EAAME,MAAS,YAAWF,EAAME,MAAM,CAEzC,EAEKsB,EAAgBA,EAAAA,WAAAC,OAAAA,EAAA,MAAA,CAAA,MACT,kBAAkB,EAAA,CAC1BP,EAAKQ,OAAKD,EAAAE,EAAA,CAAA,KACG,KAAI,MAAQ3B,EAAME,KAAI,MAAQ,eAAe,EAAA,CAAAE,QAAAA,IACtDc,CAAAA,EAAKQ,KAAK,CAEd,CAAA,EAAAD,EAAA,OAAA,KAAA,GACMf,EAAAA,EAAMN,UAANM,YAAAA,EAAAA,KAAAA,KAAqBV,EAAMM,OAAO,CAE5C,CAAA,CAAA,GATqBkB,iBAWhBI,EAAgBA,EAAAA,IACpB5B,EAAMC,QAAMwB,EAAA,MAAA,CAAA,MACC,kBAAiB,QAAUI,IAAM7B,SAAAA,OAAAA,GAAAA,EAAAA,EAAMC,SAAND,YAAAA,EAAc8B,WAAd9B,YAAAA,EAAAA,KAAAA,KAA0ByB,CAAAA,EAAAM,EAAA,CAAA,SAAA,GAAA,MAC3C,yBAAyBN,EAAAA,IAAAA,EAAAA,EAC3CzB,OAAAA,KAAAA,CAAAA,EAAMC,OAAO+B,IAAI,CAAA,EAAAP,EAAAE,EAAA,CAAA,KACZ,IAAI,EAAA,CAAAvB,QAAAA,IAAA,CAAA6B,EAAA,cAAA,CAAA,CAEnB,CAAA,CAAA,CAAA,EAPmBL,iBAShBM,EAAOA,EAAAA,IAAOrB,EAAQa,MAAQ,GAAvBQ,QAEPC,EAAQA,EAAAA,IAAM,CAClBtB,EAAQa,MAAQ,GAChBd,EAAK,SAAS,GAFFuB,SAKRC,EAAUC,EAAAA,GAAOA,EAAIH,EAAM,EAAGC,EAAK,EAAzBE,UAEhB1B,OAAAA,EAAO,CAAEuB,KAAAA,EAAMC,MAAAA,CAAM,CAAC,EAEf,IAAAV,EAAAa,EAAAC,EAAA,CAAA,WAES1B,EAAQa,MAAK,MAClBH,EAAQG,KAAK,EAChBX,EAAO,CAAA,sBACUqB,CAAM,CAAA,EAAA,CAGzBhC,QAASoB,EACTgB,QAASZ,EAGd,CACH,CACF,CAAC"}